if (self.CavalryLogger) { CavalryLogger.start_js(["JhCL3"]); }

__d("MessengerPlatformInterfaceType",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN_INTERFACE:0,MESSENGER_INTERFACE:1,FB_INTERFACE:2,FB_POST_INTERFACE:3}}),null);
__d('UFIAsyncWrapper',['React','UFIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return this.props.children};function j(){h.apply(this,arguments)}j.unstable_asyncUpdates=c('UFIConfig').reactFiberAsyncUFI;f.exports=j}),null);
__d('UFICommentTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:UFICommentLoggerConfig',this.$UFICommentTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:UFICommentLoggerConfig',this.$UFICommentTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$UFICommentTypedLogger1={};return this};h.prototype.updateData=function(j){this.$UFICommentTypedLogger1=babelHelpers['extends']({},this.$UFICommentTypedLogger1,j);return this};h.prototype.setDuration=function(j){this.$UFICommentTypedLogger1.duration=j;return this};h.prototype.setEvent=function(j){this.$UFICommentTypedLogger1.event=j;return this};h.prototype.setHasPhoto=function(j){this.$UFICommentTypedLogger1.has_photo=j;return this};h.prototype.setHasSticker=function(j){this.$UFICommentTypedLogger1.has_sticker=j;return this};h.prototype.setIsReply=function(j){this.$UFICommentTypedLogger1.is_reply=j;return this};h.prototype.setRequestLength=function(j){this.$UFICommentTypedLogger1.request_length=j;return this};h.prototype.setVC=function(j){this.$UFICommentTypedLogger1.vc=j;return this};var i={duration:true,event:true,has_photo:true,has_sticker:true,is_reply:true,request_length:true,vc:true};f.exports=h}),null);
__d('UFICommentLogger',['UFICommentTypedLogger'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$UFICommentLogger1={};this.$UFICommentLogger2={}}h.prototype.logNewCommentPost=function(i,j,k){this.$UFICommentLogger2[i]=babelHelpers['extends']({timestamp:j},k);new (c('UFICommentTypedLogger'))().setEvent('new_comment_post').setHasPhoto(k.has_photo).setHasSticker(k.has_sticker).setIsReply(k.is_reply).log()};h.prototype.logNewCommentReceived=function(i,j){var k=this.$UFICommentLogger2[i];if(k){var l=0;if(j&&k.timestamp)l=j-k.timestamp;new (c('UFICommentTypedLogger'))().setEvent('new_comment_received').setDuration(l).setHasPhoto(k.has_photo).setHasSticker(k.has_sticker).setIsReply(k.is_reply).log()}delete this.$UFICommentLogger2[i]};h.prototype.logCommentFetch=function(i,j,k){var l=babelHelpers['extends']({timestamp:j},k);if(this.$UFICommentLogger1[i]===undefined){this.$UFICommentLogger1[i]=[l]}else this.$UFICommentLogger1[i].push(l);new (c('UFICommentTypedLogger'))().setEvent('fetch_comment').setIsReply(k.is_reply).setRequestLength(k.request_length).log()};h.prototype.logCommentFetchReceived=function(i,j){if(this.$UFICommentLogger1[i]){var k=this.$UFICommentLogger1[i].shift(),l=0;if(j&&k.timestamp)l=j-k.timestamp;new (c('UFICommentTypedLogger'))().setEvent('fetch_comment_received').setDuration(l).setIsReply(k.is_reply).setRequestLength(k.request_length).log();if(this.$UFICommentLogger1[i].length===0)delete this.$UFICommentLogger1[i];}};f.exports=new h()}),null);
__d("UFIStoryActionType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHANGE_ACCEPTED_ANSWER:"story_change_accepted_answer",COMMENTS_ARRIVED:"story_comments_arrived",PAGE_IN_COMMENTS:"story_page_in_comments",SHOW_REPLIES:"story_show_replies",SHOW_COMMENTS:"story_show_comments",SPAM_FETCHED:"story_spam_fetched",CHANGE_REACTION:"story_change_reaction",CHANGE_REACTION_FAILURE:"story_change_reaction_failure",CHANGE_REACTION_SUCCESS:"story_change_reaction_success",TOGGLE_REPLIES:"story_toggle_replies",FRIEND_TYPING:"story_friend_typing",SOMEONE_TYPING:"story_someone_typing",TYPING_STOPPED:"story_typing_stopped",LIVE_PIN_COMMENT:"story_live_pin_comment",LIVE_UNPIN_COMMENT:"story_live_unpin_comment"})}),null);
__d('UFIAcceptedAnswerStore',['FluxReduceStore','UFIDispatcherBase','UFIStoryActionType'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {}};j.prototype.reduce=function(k,l){var m;switch(l.type){case c('UFIStoryActionType').CHANGE_ACCEPTED_ANSWER:return babelHelpers['extends']({},k,(m={},m[l.comment.ftentidentifier]=l.doAccept?{type:'Accepted',id:l.comment.id}:{type:'NoneAccepted'},m));default:return k;}};j.prototype.get=function(k,l){var m=this.getState()[k];if(m)return m;return l?{type:'Accepted',id:l}:{type:'NoneAccepted'}};function j(){h.apply(this,arguments)}f.exports=new j(c('UFIDispatcherBase'))}),null);
__d('UFICommentEditIDStore',['FluxReduceStore','UFIAddCommentActionType','UFICentralUpdates','UFICommentActionType','UFIDispatcherBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);c('UFICentralUpdates').subscribe('actor-changed',function(l,m){c('UFIDispatcherBase').dispatch({type:'PRIVATE_ACTOR_CHANGED',instanceID:true,ftentidentifier:true})})}j.prototype.getInitialState=function(){return {}};j.prototype.getForInstance=function(k){return this.getState()[k]||null};j.prototype.reduce=function(k,l){var m;switch(l.type){case 'PRIVATE_ACTOR_CHANGED':return {};case c('UFIAddCommentActionType').CANCEL:case c('UFIAddCommentActionType').SUBMIT_EDIT:var n=k[l.instanceID],o=babelHelpers.objectWithoutProperties(k,[l.instanceID]);return o;case c('UFICommentActionType').EDIT:return babelHelpers['extends']({},k,(m={},m[l.instanceID]=l.comment.id,m));}return k};f.exports=new j(c('UFIDispatcherBase'))}),null);
__d("CommentApprovalsResponsibleUserAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({APPEALED:"APPEALED",SECURED_ACCOUNT:"SECURED_ACCOUNT"})}),null);
__d('UFIComments',['invariant','ClientIDs','CommentApprovalsResponsibleUserAction','ImmutableObject','LiveWWWFeedbackTypedLogger','UFICentralUpdates','UFIConstants','randomInt'],(function a(b,c,d,e,f,g,h){'use strict';var i={},j={},k={};function l(ha){return ha in j?j[ha]:ha}function m(ha,ia){ha.forEach(function(ja){var ka=ja.ftentidentifier,la=c('UFIConstants').UFIPayloadSourceType,ma=ja.clientid,na=false,oa=babelHelpers['extends']({},ja);if(ma){delete oa.clientid;na=c('ClientIDs').isExistingClientID(ma);if(na&&j[ma]){new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('comment').setOriginatedLocally(true).setCommentID(ja.id).log();return}}if(ia===la.LIVE_SEND||ia===c('UFIConstants').UFIPayloadSourceType.STREAMING||ia===la.USER_ACTION||ia===la.ENDPOINT_ADD_COMMENT||ia===la.ENDPOINT_EDIT_COMMENT)oa.isunseen=true;if(ia===c('UFIConstants').UFIPayloadSourceType.LIVE_SEND||ia===c('UFIConstants').UFIPayloadSourceType.STREAMING)oa.islive=true;if(ia===la.ENDPOINT_COMMENT_FETCH||ia===la.ENDPOINT_ID_COMMENT_FETCH)oa.fromfetch=true;if(na&&i[ma]){oa.ufiinstanceid=i[ma].ufiinstanceid;j[ma]=ja.id;k[ja.id]=ma;i[ja.id]=i[ma];delete i[ma];c('UFICentralUpdates').didUpdateComment(ma)}ga.setComment(ja.id,new (c('ImmutableObject'))(oa));c('UFICentralUpdates').didUpdateComment(ja.id);c('UFICentralUpdates').didUpdateFeedback(ka)})}function n(ha,ia){for(var ja=0;ja<ha.length;ja++){var ka=ha[ja];switch(ka.actiontype){case c('UFIConstants').UFIActionType.LIKE_ACTION:if(ga.getComment(ka.entidentifier))o(ka.clientid,ka.entidentifier,ka.hasviewerliked,ka.likecount,ka.reactiondata,ia);break;case c('UFIConstants').UFIActionType.COMMENT_LIKE:o(ka.clientid,ka.commentid,ka.viewerliked,ka.likecount,ka.reactiondata,ia);break;case c('UFIConstants').UFIActionType.MUTE_MEMBER:p(ka);break;case c('UFIConstants').UFIActionType.REACTION:if(ga.getComment(ka.entidentifier))q(ka.entidentifier,ka);break;case c('UFIConstants').UFIActionType.COMMENT_REACTION:q(ka.commentid,ka);break;case c('UFIConstants').UFIActionType.DELETE_COMMENT:u(ka);break;case c('UFIConstants').UFIActionType.LIVE_DELETE_COMMENT:v(ka);break;case c('UFIConstants').UFIActionType.CHANGE_ACCEPTED_ANSWER:w(ka);break;case c('UFIConstants').UFIActionType.REMOVE_PREVIEW:x(ka);break;case c('UFIConstants').UFIActionType.COMMENT_SET_SPAM:y(ka);break;case c('UFIConstants').UFIActionType.COMMENT_KEEP_SPAM:z(ka);break;case c('UFIConstants').UFIActionType.COMMENT_APPEAL_SPAM:aa(ka);break;case c('UFIConstants').UFIActionType.COMMENT_SECURE_ACCOUNT:ba(ka);break;case c('UFIConstants').UFIActionType.CONFIRM_COMMENT_REMOVAL:ca(ka);break;case c('UFIConstants').UFIActionType.TRANSLATE_COMMENT:s(ka);break;case c('UFIConstants').UFIActionType.COMMENT_LIKECOUNT_UPDATE:r(ka);break;case c('UFIConstants').UFIActionType.UPDATE_CONSTITUENT_TITLE:ea(ka);break;}}}function o(ha,ia,ja,ka,la,ma){var na=ga.getComment(ia);if(na){var oa={},pa=ha&&c('ClientIDs').isExistingClientID(ha);if(!pa){oa.hasviewerliked=ja;oa.likecount=ka;if(la){oa.reactioncount=la.reactioncount;oa.reactioncountmap=la.reactioncountmap;oa.reactioncountreduced=la.reactioncountreduced;oa.viewerreaction=la.viewerreaction}}if(ma===c('UFIConstants').UFIPayloadSourceType.LIVE_SEND||ma===c('UFIConstants').UFIPayloadSourceType.STREAMING)new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('comment_like').setOriginatedLocally(Boolean(pa)).setCommentID(ia).log();oa.likeconfirmhash=c('randomInt')(0,1024);fa(ia,oa)}}function p(ha){for(var ia in i){var ja=i[ia];if(ja.author===ha.authorid){var ka={};ka.ismuted=ha.shouldmute;fa(ia,ka)}}}function q(ha,ia){var ja=ga.getComment(ha);if(ja){var ka={};if(ia.clientid&&c('ClientIDs').isExistingClientID(ia.clientid)&&ia.viewerreaction!==ja.viewerreaction)return;ka.hasviewerliked=ia.hasviewerliked;ka.likecount=ia.likecount;ka.reactioncount=ia.reactioncount;ka.reactioncountmap=ia.reactioncountmap;ka.reactioncountreduced=ia.reactioncountreduced;ka.viewerreaction=ia.viewerreaction;fa(ha,ka)}}function r(ha){var ia=ga.getComment(ha.commentid);if(ia&&ha.hasviewerliked===ia.hasviewerliked){var ja={likecount:ha.likecount,likeconfirmhash:c('randomInt')(0,1024)};fa(ha.commentid,ja)}}function s(ha){var ia=ha.commentid,ja=ga.getComment(ia);if(ja){var ka={translationdata:ha.translationdata};fa(ia,ka)}}function t(ha){var ia={reportLink:ha.reportLink,commenterIsFOF:ha.commenterIsFOF,userIsMinor:ha.userIsMinor,giveFeedbackLink:ha.giveFeedbackLink,reportGroupAdminLink:ha.reportGroupAdminLink};return ia}function u(ha){var ia=ga.getComment(ha.commentid);if(ia)da(ia,c('UFIConstants').UFIStatus.DELETED);}function v(ha){var ia=ga.getComment(ha.commentid);if(ia&&ia.status!==c('UFIConstants').UFIStatus.DELETED)da(ia,c('UFIConstants').UFIStatus.LIVE_DELETED);}function w(ha){fa(ha.commentid,{postacceptedanswer:ha.isaccepted?ha.commentid:null})}function x(ha){fa(ha.commentid,{attachment:null})}function y(ha){var ia=ga.getComment(ha.commentid),ja=ha.shouldHideAsSpam?c('UFIConstants').UFIStatus.SPAM_DISPLAY:null;if(ia)da(ia,ja);}function z(ha){var ia=ga.getComment(ha.commentid);if(ia)fa(ia.id,{needsApproval:false,isApproved:true});}function aa(ha){var ia=ga.getComment(ha.commentid);if(ia)fa(ia.id,{appealStatus:c('CommentApprovalsResponsibleUserAction').APPEALED,canAppeal:false,canSecure:false});}function ba(ha){var ia=ga.getComment(ha.commentid);if(ia)fa(ia.id,{appealStatus:c('CommentApprovalsResponsibleUserAction').SECURED_ACCOUNT,canAppeal:false,canSecure:false});}function ca(ha){fa(ha.commentid,t(ha))}function da(ha,ia){fa(ha.id,{priorstatus:ha.status,status:ia})}function ea(ha){var ia=ga.getComment(ha.commentid);if(ia){var ja={constituentTitle:ha.constituentTitle,hasConstituentBadge:ha.hasConstituentBadge};fa(ha.commentid,ja)}}function fa(ha,ia){var ja=ga.getComment(ha)||new (c('ImmutableObject'))({});ga.setComment(ha,c('ImmutableObject').set(ja,ia));c('UFICentralUpdates').didUpdateComment(ja.id);c('UFICentralUpdates').didUpdateFeedback(ja.ftentidentifier)}var ga={getRenderKey:function ha(ia){return 'comment'+(ia in k?k[ia]:ia)},getComment:function ha(ia){if(ia===c('UFIConstants').unavailableCommentKey)return null;return i[l(ia)]},setComment:function ha(ia,ja){ja instanceof c('ImmutableObject')||h(0);i[l(ia)]=ja},resetComments:function ha(ia){for(var ja in ia)delete i[l(ja)];},getCommentsForFTEntIdentifier:function ha(ia){var ja=[];for(var ka in i){var la=i[ka];if(la.ftentidentifier==ia)ja.push(la);}return ja}};c('UFICentralUpdates').subscribe('update-comments',function(ha,ia){if(ia.comments&&ia.comments.length)m(ia.comments,ia.payloadsource);if(ia.pinnedcomments&&ia.pinnedcomments.length)m(ia.pinnedcomments,ia.payloadsource);});c('UFICentralUpdates').subscribe('update-actions',function(ha,ia){if(ia.actions&&ia.actions.length)n(ia.actions,ia.payloadsource);});f.exports=ga}),22);
__d('UFILivePinnedCommentStore',['FluxReduceStore','UFIComments','UFIDispatcherBase','UFIFeedbackTargets','UFIStoryActionType','areEqual'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {}};j.prototype.reduce=function(k,l){var m;switch(l.type){case c('UFIStoryActionType').LIVE_PIN_COMMENT:case c('UFIStoryActionType').LIVE_UNPIN_COMMENT:var n=l.commentID,o=l.pinEventID;return babelHelpers['extends']({},k,(m={},m[l.ftentidentifier]={commentID:n,pinEventID:o},m));default:return k;}};j.prototype.areEqual=function(k,l){return c('areEqual')(k,l)};j.prototype.getPinnedCommentID=function(k){var l=this.getState()[k];if(!l){var m=c('UFIFeedbackTargets').getFeedbackTargetIfExists(k);if(!m)return null;return m.livepinnedcommentid||null}return l.commentID||null};j.prototype.getPinEventID=function(k){var l=this.getState()[k];if(!l)return null;return l.pinEventID||null};j.prototype.getPinnedCommentAuthorID=function(k){var l=this.getPinnedCommentID(k);if(!l)return null;var m=c('UFIComments').getComment(l);return m?m.author||null:null};function j(){h.apply(this,arguments)}f.exports=new j(c('UFIDispatcherBase'))}),null);
__d('UFIVisibility',[],(function a(b,c,d,e,f,g){'use strict';var h={VISIBLE:'visible',HIDDEN:'hidden'};f.exports=h}),null);
__d('UFICommentVisibilityStore',['invariant','FluxReduceStore','UFICommentActionType','UFIComments','UFIDispatcherBase','UFIInstanceActionType','UFILivePinnedCommentStore','UFIRootRegistry','UFIVisibility','filterObject'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(p){var q=arguments.length<=1||arguments[1]===undefined?null:arguments[1],r=arguments.length<=2||arguments[2]===undefined?null:arguments[2];q===null&&r===null||q!==null&&r!==null||h(0);if(q)return p+'-'+q+(r?'-P':'');return p}function l(p,q){return p===q||p.startsWith(q+'-')}function m(p){var q=c('UFIRootRegistry').getInstanceIDFromFTEntIdentifier(p);return q?q:[]}function n(p){return {instanceid:p}}i=babelHelpers.inherits(o,c('FluxReduceStore'));j=i&&i.prototype;o.prototype.getInitialState=function(){return {}};o.prototype.getVisibility=function(p,q){var r=arguments.length<=2||arguments[2]===undefined?null:arguments[2],s=r?k(q.instanceid,r.comment.fbid,r.isLivePinnedComment):k(q.instanceid);if(Object.prototype.hasOwnProperty.call(p,s))return p[s];return c('UFIVisibility').HIDDEN};o.prototype.$UFICommentVisibilityStore1=function(p){var q=n(p);return this.getVisibility(this.getState(),q)===c('UFIVisibility').VISIBLE};o.prototype.isFeedbackTargetVisible=function(p){var q=m(p);return q.some(function(r){return this.$UFICommentVisibilityStore1(r)}.bind(this))};o.prototype.reduce=function(p,q){var r;switch(q.type){case c('UFICommentActionType').UNMOUNTED:var s=babelHelpers['extends']({},p);delete s[k(q.instanceID,q.renderedComment.comment.fbid,q.renderedComment.isLivePinnedComment)];return s;case c('UFICommentActionType').CHANGE_VISIBILITY:return babelHelpers['extends']({},p,(r={},r[k(q.instanceID,q.renderedComment.comment.fbid,q.renderedComment.isLivePinnedComment)]=q.visibility,r));case c('UFIInstanceActionType').CHANGE_VISIBILITY:var t=c('UFIRootRegistry').getFTEntIdentifierFromInstanceID(q.instanceID),u=c('UFIComments').getCommentsForFTEntIdentifier(t);q.type===c('UFIInstanceActionType').CHANGE_VISIBILITY||h(0);var v=q.visibility;if(u){var w,x=u.reduce(function(ca,da){ca[k(q.instanceID,da.fbid,da.fbid?false:null)]=v;return ca},{});if(t){var y=c('UFILivePinnedCommentStore').getPinnedCommentID(t);if(y){var z=c('UFIComments').getComment(y);if(z)x[k(q.instanceID,z.fbid,true)]=v;}}return babelHelpers['extends']({},p,(w={},w[k(q.instanceID)]=q.visibility,w),x)}case c('UFIInstanceActionType').REMOVE:var aa=q.instanceID,ba=k(aa);return c('filterObject')(p,function(ca,da){return da!==ba&&!l(da,aa)});}return p};function o(){i.apply(this,arguments)}f.exports=new o(c('UFIDispatcherBase'))}),null);
__d('UFIKeyValueStore',['FluxReduceStore','abstractMethod'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {}};j.prototype.getValueFor=function(k){return this.getState()[k]||null};j.prototype.getStateKey=function(k){return k.instanceID};j.prototype.getStateValue=function(k){return c('abstractMethod')('UFIKeyValueStore','getStateValue')};j.prototype.reduce=function(k,l){var m=this.getStateKey(l),n=this.getStateValue(l);if(n!==null){var o;return babelHelpers['extends']({},k,(o={},o[m]=n,o))}return k};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('UFICommercialBreakStore',['UFIDispatcherBase','UFIInstanceActionType','UFIKeyValueStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('UFIKeyValueStore'));i=h&&h.prototype;j.prototype.getValueFor=function(k){return !!i.getValueFor.call(this,k)};j.prototype.getStateValue=function(k){switch(k.type){case c('UFIInstanceActionType').TOGGLE_COMMERCIAL_BREAK:return k.inCommercial;}return null};function j(){h.apply(this,arguments)}f.exports=new j(c('UFIDispatcherBase'))}),null);
__d('UFIComposerIsTypingStore',['UFIAddCommentActionType','UFIDispatcherBase','UFIKeyValueStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('UFIKeyValueStore'));i=h&&h.prototype;j.prototype.getStateKey=function(k){return k.ftentidentifier};j.prototype.getStateValue=function(k){switch(k.type){case c('UFIAddCommentActionType').SUBMIT_EDIT:return false;case c('UFIAddCommentActionType').SUBMIT_NEW:return false;case c('UFIAddCommentActionType').CHANGE_CONTENT:var l=k.text.trim().length;return l>0;}return null};function j(){h.apply(this,arguments)}f.exports=new j(c('UFIDispatcherBase'))}),null);
__d('UFIInteractionStore',['UFIAddCommentActionType','UFICommentActionType','UFIDispatcherBase','UFIInstanceActionType','UFIKeyValueStore','UFIStoryActionType'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('UFIKeyValueStore'));i=h&&h.prototype;j.prototype.getValueFor=function(k){return !!i.getValueFor.call(this,k)};j.prototype.getStateValue=function(k){switch(k.type){case c('UFIAddCommentActionType').CHANGE_CONTENT:case c('UFIAddCommentActionType').SUBMIT_EDIT:case c('UFIAddCommentActionType').SUBMIT_NEW:case c('UFICommentActionType').CHANGE_REACTION:case c('UFICommentActionType').EDIT:case c('UFICommentActionType').REMOVE:case c('UFICommentActionType').TOGGLE_LIKE:case c('UFICommentActionType').TOGGLE_MARK_AS_SPAM:case c('UFICommentActionType').TRANSLATE:case c('UFIInstanceActionType').CHANGE_ORDER_MODE:case c('UFIInstanceActionType').TOGGLE_COMMENTS:case c('UFIStoryActionType').PAGE_IN_COMMENTS:case c('UFIStoryActionType').SHOW_REPLIES:case c('UFIStoryActionType').TOGGLE_REPLIES:return true;}return null};function j(){h.apply(this,arguments)}f.exports=new j(c('UFIDispatcherBase'))}),null);
__d('UFILiveTypingStore',['FluxReduceStore','UFIDispatcherBase','UFIStoryActionType'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.getNewFeedbackState=function(k){switch(k){case c('UFIStoryActionType').FRIEND_TYPING:return 'friend';case c('UFIStoryActionType').SOMEONE_TYPING:return 'someone';case c('UFIStoryActionType').TYPING_STOPPED:return false;default:return null;}};j.prototype.getInitialState=function(){return {}};j.prototype.reduce=function(k,l){var m=j.getNewFeedbackState(l.type);if(m!==null){var n;k=babelHelpers['extends']({},k,(n={},n[l.ftentidentifier]=m,n))}return k};j.prototype.isFriendTyping=function(k){return this.getState()[k]==='friend'};function j(){h.apply(this,arguments)}f.exports=new j(c('UFIDispatcherBase'))}),null);
__d('UFICentralUpdatesLocalCommentAdapter',['ClientIDs','FeedbackPayloadSourceType','UFICentralUpdates','UFIDispatcherBase'],(function a(b,c,d,e,f,g){'use strict';var h,i={},j=(h={},h[c('FeedbackPayloadSourceType').USER_ACTION]=l,h[c('FeedbackPayloadSourceType').ENDPOINT_ADD_COMMENT]=m,h);function k(){return c('UFICentralUpdates').subscribe('update-comments',function(p,q){if(q.comments){var r=j[q.payloadsource];if(r)q.comments.forEach(r);}})}function l(p){if(!c('ClientIDs').isExistingClientID(p.id))return;i[p.id]=p.ufiinstanceid;c('UFIDispatcherBase').dispatch({type:'CENTRALUPDATES_ADDED_COMMENT',instanceID:p.ufiinstanceid,ftentidentifier:p.ftentidentifier,clientID:p.id})}function m(p){if(!c('ClientIDs').isExistingClientID(p.clientid))return;var q=i[p.clientid];delete i[p.clientid];if(!q)return;c('UFIDispatcherBase').dispatch({type:'CENTRALUPDATES_SAVED_COMMENT',instanceID:q,ftentidentifier:p.ftentidentifier,clientID:p.clientid,commentID:p.id})}var n=void 0,o={subscribeOnce:function p(){if(!n){n=k();return n}return null}};f.exports=o}),null);
__d('UFILocallyComposedCommentStore',['invariant','ClientIDs','FluxReduceStore','UFIAddCommentActionType','UFICentralUpdatesLocalCommentAdapter','UFIDispatcherBase','setByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(m){return babelHelpers['extends']({},m)}i=babelHelpers.inherits(l,c('FluxReduceStore'));j=i&&i.prototype;function l(m){j.constructor.call(this,m);var n=c('UFICentralUpdatesLocalCommentAdapter').subscribeOnce()}l.prototype.getInitialState=function(){return {}};l.prototype.getStateForInstance=function(m){return m?this.getState()[m]||{}:{}};l.prototype.reduce=function(m,n){switch(n.type){case 'CENTRALUPDATES_ADDED_COMMENT':c('ClientIDs').isExistingClientID(n.clientID)||h(0);m=k(m);c('setByPath')(m,[n.instanceID,n.clientID],true);return m;case 'CENTRALUPDATES_SAVED_COMMENT':c('ClientIDs').isExistingClientID(n.clientID)||h(0);m=k(m);c('setByPath')(m,[n.instanceID,n.commentID],true);delete m[n.instanceID][n.clientID];return m;case c('UFIAddCommentActionType').SUBMIT_EDIT:m=k(m);c('setByPath')(m,[n.instanceID,n.comment.id],true);return m;}return m};f.exports=new l(c('UFIDispatcherBase'))}),null);
__d('UFIPlayLiveVODHighlightsStore',['UFIDispatcherBase','UFIInstanceActionType','UFIKeyValueStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('UFIKeyValueStore'));i=h&&h.prototype;j.prototype.getValueFor=function(k){return !!i.getValueFor.call(this,k)};j.prototype.getStateValue=function(k){switch(k.type){case c('UFIInstanceActionType').PLAY_LIVE_VOD_HIGHLIGHTS:return k.playingLiveVODHighlights;}return null};function j(){h.apply(this,arguments)}f.exports=new j(c('UFIDispatcherBase'))}),null);
__d('UFIActionTypes',['UFIInstanceActionType','UFIStoryActionType','UFIAddCommentActionType','UFICommentActionType'],(function a(b,c,d,e,f,g){'use strict';var h={INSTANCE:c('UFIInstanceActionType'),STORY:c('UFIStoryActionType'),ADD_COMMENT:c('UFIAddCommentActionType'),COMMENT:c('UFICommentActionType')};f.exports=h}),null);
__d('UFIReactionPendingRequestsStore',['FluxReduceStore','UFIActionTypes','UFIDispatcherBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(o){return o+'-comment'}function k(o){return o+'-story'}function l(o,p){var q;return babelHelpers['extends']({},o,(q={},q[p]=(o[p]||0)+1,q))}function m(o,p){var q;return babelHelpers['extends']({},o,(q={},q[p]=(o[p]||0)-1,q))}h=babelHelpers.inherits(n,c('FluxReduceStore'));i=h&&h.prototype;n.prototype.getInitialState=function(){return {}};n.prototype.reduce=function(o,p){switch(p.type){case c('UFIActionTypes').STORY.CHANGE_REACTION:return l(o,k(p.ftentidentifier));case c('UFIActionTypes').COMMENT.CHANGE_REACTION:return l(o,j(p.fbid));case c('UFIActionTypes').STORY.CHANGE_REACTION_SUCCESS:case c('UFIActionTypes').STORY.CHANGE_REACTION_FAILURE:return m(o,k(p.ftentidentifier));case c('UFIActionTypes').COMMENT.CHANGE_REACTION_FAILURE:case c('UFIActionTypes').COMMENT.CHANGE_REACTION_SUCCESS:return m(o,j(p.fbid));}return o};n.prototype.getPendingRequestsForComment=function(o){return this.getState()[j(o)]||0};n.prototype.getPendingRequests=function(o){return this.getState()[k(o)]||0};function n(){h.apply(this,arguments)}f.exports=new n(c('UFIDispatcherBase'))}),null);
__d('UFIReactionSyncStore',['FluxReduceStore','UFIActionTypes','UFIDispatcherBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(m){return m+'-comment'}function k(m){return m+'-story'}h=babelHelpers.inherits(l,c('FluxReduceStore'));i=h&&h.prototype;l.prototype.getInitialState=function(){return {}};l.prototype.reduce=function(m,n){var o,p,q;switch(n.type){case c('UFIActionTypes').INSTANCE.INIT:var r=n.payload,s=r.feedbacktarget?r.feedbacktarget:r.feedbacktargets&&r.feedbacktargets[0];if(!s)return m;var t=n.payload.comments.reduce(function(u,v){u[j(v.fbid)]=v.viewerreaction;return u},{});return babelHelpers['extends']({},m,t,(o={},o[k(n.ftentidentifier)]=s.viewerreaction,o));case c('UFIActionTypes').STORY.CHANGE_REACTION_SUCCESS:return babelHelpers['extends']({},m,(p={},p[k(n.ftentidentifier)]=n.reactionType,p));case c('UFIActionTypes').COMMENT.CHANGE_REACTION_SUCCESS:return babelHelpers['extends']({},m,(q={},q[j(n.fbid)]=n.reactionType,q));default:return m;}};l.prototype.getLastKnownCommentReaction=function(m){return this.getState()[j(m)]};l.prototype.getLastKnownReaction=function(m){return this.getState()[k(m)]};function l(){h.apply(this,arguments)}f.exports=new l(c('UFIDispatcherBase'))}),null);
__d('UFISharedDispatcher',['UFIDispatcherBase','UFIFeedbackStore','UFIAcceptedAnswerStore','UFICommentEditIDStore','UFICommentVisibilityStore','UFICommercialBreakStore','UFIComposerIsTypingStore','UFIInteractionStore','UFILivePinnedCommentStore','UFILiveTypingStore','UFILocallyComposedCommentStore','UFIOrderingModeStore','UFIReactionPendingRequestsStore','UFIReactionSyncStore','UFISpamStore','UFIPlayLiveVODHighlightsStore'],(function a(b,c,d,e,f,g){'use strict';c('UFIFeedbackStore');c('UFIAcceptedAnswerStore');c('UFICommentEditIDStore');c('UFICommentVisibilityStore');c('UFICommercialBreakStore');c('UFIComposerIsTypingStore');c('UFIFeedbackStore');c('UFIInteractionStore');c('UFILivePinnedCommentStore');c('UFILiveTypingStore');c('UFILocallyComposedCommentStore');c('UFIOrderingModeStore');c('UFIReactionPendingRequestsStore');c('UFIReactionSyncStore');c('UFISpamStore');c('UFIPlayLiveVODHighlightsStore');f.exports=c('UFIDispatcherBase')}),null);
__d('UFICommentAction',['UFICommentActionType'],(function a(b,c,d,e,f,g){'use strict';var h={changeReaction:function i(j,k,l,m){return {type:c('UFICommentActionType').CHANGE_REACTION,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,reactionType:l,target:m}},changeReactionSuccess:function i(j,k,l){return {type:c('UFICommentActionType').CHANGE_REACTION_SUCCESS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,reactionType:l}},changeReactionFailure:function i(j,k,l){return {type:c('UFICommentActionType').CHANGE_REACTION_FAILURE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,reactionType:l}},mounted:function i(j,k){return {type:c('UFICommentActionType').MOUNTED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.comment.fbid,renderedComment:k,contextArgs:j}},unmounted:function i(j,k){return {type:c('UFICommentActionType').UNMOUNTED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.comment.fbid,renderedComment:k,contextArgs:j}},changeVisibility:function i(j,k,l){return {type:c('UFICommentActionType').CHANGE_VISIBILITY,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.comment.fbid,renderedComment:k,contextArgs:j,visibility:l}},edit:function i(j,k){return {type:c('UFICommentActionType').EDIT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k}},remove:function i(j,k,l,m){return {type:c('UFICommentActionType').REMOVE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l,onConfirm:m}},delete_comment_and_remove_commenter:function i(j,k,l,m){return {type:c('UFICommentActionType').DELETE_COMMENT_AND_REMOVE_COMMENTER,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l,onConfirm:m}},mute_member:function i(j,k,l,m){return {type:c('UFICommentActionType').MUTE_MEMBER,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l,onConfirm:m}},toggle_text_delights:function i(j,k,l){return {type:c('UFICommentActionType').TOGGLE_TEXT_DELIGHTS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l}},removePreview:function i(j,k,l){return {type:c('UFICommentActionType').REMOVE_PREVIEW,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l}},toggleLike:function i(j,k,l){return {type:c('UFICommentActionType').TOGGLE_LIKE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,like:!k.hasviewerliked,target:l}},translate:function i(j,k,l){return {type:c('UFICommentActionType').TRANSLATE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,trigger:l}},markAsSpam:function i(j,k,l){return {type:c('UFICommentActionType').TOGGLE_MARK_AS_SPAM,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_spam:true,target:l}},markAsNotSpam:function i(j,k,l){return {type:c('UFICommentActionType').TOGGLE_MARK_AS_SPAM,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_spam:false,target:l}},inlineBan:function i(j,k,l,m){return {type:c('UFICommentActionType').TOGGLE_INLINE_BAN,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_banned:true,ownerid:m,target:l}},undoInlineBan:function i(j,k,l,m){return {type:c('UFICommentActionType').TOGGLE_INLINE_BAN,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,is_banned:false,ownerid:m,target:l}},embed:function i(j,k){return {type:c('UFICommentActionType').EMBED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k}},manageConstituentBadge:function i(j,k){return {type:c('UFICommentActionType').MANAGE_CONSTITUENT_BADGE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k}},keepSpam:function i(j,k,l){return {type:c('UFICommentActionType').TOGGLE_KEEP_SPAM,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,fbid:k.fbid,comment:k,target:l}},appealSpam:function i(j,k,l,m){return {type:c('UFICommentActionType').TOGGLE_APPEAL_SPAM,instanceID:j.instanceid,ftentidentifier:k.fbid,fbid:k.fbid,comment:k,target:l,feedback:m}},secureAccount:function i(j,k,l,m){return {type:c('UFICommentActionType').TOGGLE_SECURE_ACCOUNT,instanceID:j.instanceid,ftentidentifier:k.fbid,fbid:k.fbid,comment:k,target:l,feedback:m}}};f.exports=h}),null);
__d('UFIReactionsUtils',[],(function a(b,c,d,e,f,g){var h={getReactionData:function i(j,k,l,m){k=parseInt(k,10);var n=!!k,o=j.reactorids?j.reactorids.slice(0):[],p=o.indexOf(l),q=0;if(n){if(p<0){l&&o.unshift(l);q=1}}else if(p>-1){o.splice(p,1);q=-1}var r=Math.max(j.reactioncount+q,0),s=j.reactioncountreduced;if(s&&!isNaN(s))if(m){s=m(r)}else s=r.toString();var t=j.reactioncountmap||{},u=void 0,v=j.viewerreaction;if(v&&t[v]){t[v]['default']=Math.max((t[v]['default']||0)-1,0);u=t[v].reduced;if(u&&!isNaN(u))t[v].reduced=t[v]['default'].toString();}if(n&&t[k]){t[k]['default']=(t[k]['default']||0)+1;u=t[k].reduced;if(u&&!isNaN(u))t[k].reduced=t[k]['default'].toString();}var w=j.userreactions;if(!w||Array.isArray(w))w={};if(l)if(n){w[l]=k}else delete w[l];var x=null;if(j.reactionsentences){var y=!(v&&k);x={current:j.reactionsentences[y?'alternate':'current'],alternate:j.reactionsentences[y?'current':'alternate']}}return {reactioncount:r,reactioncountmap:t,reactioncountreduced:s,reactionsentences:x,reactorids:o,userreactions:w,viewerreaction:k}},getReactionCountMapFromSummary:function i(j){var k={};if(!j)return k;for(var l=0;l<j.length;l++){var m=j[l],n=m.feedback_reaction.key;k[n]={'default':m.reactors&&m.reactors.count,reduced:m.reactors&&m.reactors.display_count}}return k}};f.exports=h}),null);
__d('UFIStoryAction',['UFIStoryActionType'],(function a(b,c,d,e,f,g){'use strict';var h={changeAcceptedAnswer:function i(j,k,l){return {type:c('UFIStoryActionType').CHANGE_ACCEPTED_ANSWER,instanceID:j.instanceid,ftentidentifier:k.ftentidentifier,comment:k,doAccept:l}},commentsArrived:function i(j,k,l,m){return {type:c('UFIStoryActionType').COMMENTS_ARRIVED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,newOffset:k,newLength:l,source:m}},pageInComments:function i(j,k,l,m){return {type:c('UFIStoryActionType').PAGE_IN_COMMENTS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:k,direction:l,nextRange:m}},showComments:function i(j){return {type:c('UFIStoryActionType').SHOW_COMMENTS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},showReplies:function i(j,k,l){return {type:c('UFIStoryActionType').SHOW_REPLIES,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:k,initiatorComment:l}},spamFetched:function i(j,k,l,m){return {type:c('UFIStoryActionType').SPAM_FETCHED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,viewas:k,commentIDs:l,parentCommentID:m}},changeReaction:function i(j,k,l){var m=arguments.length<=3||arguments[3]===undefined?null:arguments[3],n=arguments.length<=4||arguments[4]===undefined?null:arguments[4];return {type:c('UFIStoryActionType').CHANGE_REACTION,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,contextArgs:j,reactionType:k,target:l,sphericalYaw:m,sphericalPitch:n}},changeReactionSuccess:function i(j,k){return {type:c('UFIStoryActionType').CHANGE_REACTION_SUCCESS,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,reactionType:k}},changeReactionFailure:function i(j,k){return {type:c('UFIStoryActionType').CHANGE_REACTION_FAILURE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,reactionType:k}},toggleReplies:function i(j,k){return {type:c('UFIStoryActionType').TOGGLE_REPLIES,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:k}},friendTyping:function i(j){return {type:c('UFIStoryActionType').FRIEND_TYPING,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},someoneTyping:function i(j){return {type:c('UFIStoryActionType').SOMEONE_TYPING,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},typingStopped:function i(j){return {type:c('UFIStoryActionType').TYPING_STOPPED,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},pinComment:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?null:arguments[2];return {type:c('UFIStoryActionType').LIVE_PIN_COMMENT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:k,pinEventID:l}},unpinComment:function i(j){var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1];return {type:c('UFIStoryActionType').LIVE_UNPIN_COMMENT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,commentID:null,pinEventID:k}}};f.exports=h}),null);
__d('UFIUserActionUtils',['Nectar','collectDataAttributes'],(function a(b,c,d,e,f,g){var h={trackingData:function i(j){if(!j)return {ft:{}};var k={ft:c('collectDataAttributes')(j,['ft']).ft};c('Nectar').addModuleData(k,j);return k}};f.exports=h}),null);
__d("XUFICommentReactionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/reaction\/",{reaction_type:{type:"Enum",enumType:0}})}),null);
__d("XUFIReactionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/reaction\/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:false},is_comment:{type:"Bool",defaultValue:false},is_permalink:{type:"Bool",defaultValue:false},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:false},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:false},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},aftercursor:{type:"String"},tab:{type:"String"},av:{type:"Int"},_ft_:{type:"String"}})}),null);
__d('UFIReactionUserActions',['ActorURI','AsyncResponse','ChannelClientID','ClientIDs','MercuryServerDispatcher','NumberFormat','QE2Logger','UFICentralUpdates','UFICommentAction','UFIComments','UFIConfig','UFIConstants','UFIFeedbackTargets','UFIReactionPendingRequestsStore','UFIReactionsUtils','UFIReactionSyncStore','UFIReactionTypes','UFISharedDispatcher','UFIStoryAction','UFIUserActionUtils','UFIVideoPlayerRegistry','XUFICommentReactionController','XUFIReactionController','emptyFunction','ifRequired','setImmediate'],(function a(b,c,d,e,f,g){'use strict';var h={changeReaction:function z(aa,ba,ca,da){var ea=arguments.length<=4||arguments[4]===undefined?null:arguments[4],fa=arguments.length<=5||arguments[5]===undefined?null:arguments[5];c('UFIFeedbackTargets').getFeedbackTarget(aa,function(ga){var ha,ia=w(ga,ba);c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:ia});var ja=c('UFIUserActionUtils').trackingData(da),ka={};ka[c('ActorURI').PARAMETER_ACTOR]=ga.actorforpost;var la=babelHelpers['extends']({client_id:c('ClientIDs').getNewClientID(),ft_ent_identifier:aa,reaction_type:ba,root_id:ca.rootid,session_id:c('ChannelClientID').getID(),source:ca.source,feedback_referrer:ca.feedbackReferrer,instance_id:ca.instanceid},ka,ja);if(ca.fluentContentToken)(function(){var ma=ca.fluentContentToken,na=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerForElement(da,ma);if(na&&na.isSpherical())la.video_playback_timestamp=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(da,ma);if(ca.isLiveVOD){la.on_demand_content_time_offset=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(da,ma)}else if(ca.islivestreaming)la.live_content_time_offset=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(da,ma);if(na&&na.isSpherical())c('ifRequired')('SphericalViewportControlStore',function(oa){var pa=oa.getOrientation(na.getVideoPlayerID());if(pa)if(ea!==null&&fa!==null){la.spherical_yaw=ea;la.spherical_pitch=fa}else{la.spherical_pitch=Math.round(pa.pitch);la.spherical_yaw=Math.round(pa.yaw)}},c('emptyFunction')());})();c('MercuryServerDispatcher').trySend(c('XUFIReactionController').getURIBuilder().getURI(),la)})},changeCommentReaction:function z(aa,ba,ca,da){var ea=c('UFIComments').getComment(aa);if(ea&&ea.__typename==='saved'&&ea.viewerreaction!=ba)c('UFIFeedbackTargets').getFeedbackTarget(ea.ftentidentifier,function(fa){var ga=c('UFIUserActionUtils').trackingData(da),ha=v(ea,fa,ba);c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:ha});var ia={};ia[c('ActorURI').PARAMETER_ACTOR]=fa.actorforpost;c('MercuryServerDispatcher').trySend(c('XUFICommentReactionController').getURIBuilder().getURI(),babelHelpers['extends']({comment_id:aa,legacy_id:ea.legacyid,reaction_type:ba,ft_ent_identifier:ea.ftentidentifier,source:ca.source,instance_id:ca.instanceid,client_id:c('ClientIDs').getNewClientID(),session_id:c('ChannelClientID').getID()},ga,ia))});}},i={},j=c('XUFIReactionController').getURIBuilder().getURI();i[j]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:r,handler:q};var k=c('XUFICommentReactionController').getURIBuilder().getURI();i[k]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,batch_if:l,batch_function:m,error_handler:u,handler:t};c('MercuryServerDispatcher').registerEndpoints(i);function l(z,aa){return z&&z.ft_ent_identifier==aa.ft_ent_identifier&&z.comment_id==aa.comment_id}function m(z,aa){return aa}var n='feedback_reactions_www_rollback_universe';function o(){c('QE2Logger').logExposureForUser(n)}function p(z,aa){var ba=c('UFIReactionPendingRequestsStore').getPendingRequests(z);if(ba>0)return;var ca=c('UFIReactionSyncStore').getLastKnownReaction(z);if(aa===ca)return;c('UFIFeedbackTargets').getFeedbackTarget(z,function(da){var ea=w(da,ca);c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:ea})})}function q(z,aa){var ba=aa.data,ca=ba.ft_ent_identifier,da=ba.reaction_type;c('UFISharedDispatcher').dispatch(c('UFIStoryAction').changeReactionSuccess({instanceid:ba.instance_id,ftentidentifier:ca},da));c('setImmediate')(function(){return p(ca,da)})}function r(z){var aa=z.request.data,ba=aa.ft_ent_identifier,ca=aa.reaction_type;o();var da=c('UFIConfig').reactionsHasReactionsRollback,ea=c('UFIConfig').reactionsHasReactionsRetry;if(ea&&!aa.retry_attempt){c('MercuryServerDispatcher').trySend(c('XUFIReactionController').getURIBuilder().getURI(),babelHelpers['extends']({},aa,{retry_attempt:1}));return}c('UFISharedDispatcher').dispatch(c('UFIStoryAction').changeReactionFailure({instanceid:aa.instance_id,ftentidentifier:ba},ca));if(da)c('setImmediate')(function(){return p(ba,ca)});c('AsyncResponse').defaultErrorHandler(z)}function s(z,aa,ba){var ca=c('UFIReactionPendingRequestsStore').getPendingRequestsForComment(aa.fbid);if(ca>0)return;var da=c('UFIReactionSyncStore').getLastKnownCommentReaction(aa.fbid);if(ba===da)return;c('UFIFeedbackTargets').getFeedbackTarget(z,function(ea){var fa=v(aa,ea,da);c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:fa})})}function t(z,aa){var ba=aa.data,ca=ba.ft_ent_identifier,da=ba.reaction_type,ea=c('UFIComments').getComment(ba.comment_id);if(!ea||ea.__typename!=='saved')return;c('UFISharedDispatcher').dispatch(c('UFICommentAction').changeReactionSuccess({instanceid:ba.instance_id,ftentidentifier:ca},ea,da));c('setImmediate')(function(){return s(ca,ea,da)})}function u(z){var aa=z.request.data,ba=aa.ft_ent_identifier,ca=aa.reaction_type,da=c('UFIComments').getComment(aa.comment_id);if(!da)return;o();var ea=c('UFIConfig').reactionsHasCommentReactionsRollback,fa=c('UFIConfig').reactionsHasCommentReactionsRetry;if(fa&&!aa.retry_attempt){c('MercuryServerDispatcher').trySend(c('XUFICommentReactionController').getURIBuilder().getURI(),babelHelpers['extends']({},aa,{retry_attempt:1}));return}if(da&&da.__typename==='saved'){c('UFISharedDispatcher').dispatch(c('UFICommentAction').changeReactionFailure({instanceid:aa.instance_id,ftentidentifier:ba},da,ca));if(ea)c('setImmediate')(function(){return s(ba,da,ca)});}c('AsyncResponse').defaultErrorHandler(z)}function v(z,aa,ba){var ca=z.id,da=[y(z,ba,ca,aa.supportedreactions||[],aa.actorforpost)],ea=ba===c('UFIReactionTypes').LIKE;if(aa.hasviewerliked!==ea){var fa=ea?1:-1;da.push({commentid:ca,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:ea,likecount:(z.likecount||0)+fa})}return da}function w(z,aa){var ba=[x(z,aa)],ca=aa!==c('UFIReactionTypes').NONE;if(z.hasviewerliked!==ca){var da=ca?1:-1;ba.push({actiontype:c('UFIConstants').UFIActionType.LIKE_ACTION,actorid:z.actorforpost,hasviewerliked:ca,likecount:(z.likecount||0)+da,entidentifier:z.entidentifier,likesentences:{current:z.likesentences.alternate,alternate:z.likesentences.current}})}return ba}function x(z,aa){return Object.assign({actiontype:c('UFIConstants').UFIActionType.REACTION,actorid:z.actorforpost,entidentifier:z.entidentifier},c('UFIReactionsUtils').getReactionData(z,aa,z.actorforpost,c('NumberFormat').formatInteger))}function y(z,aa,ba,ca,da){var ea={};for(var fa=0;fa<ca.length;fa++){var ga=ca[fa],ha=z.reactioncountmap?z.reactioncountmap[ga]:null;ea[ga]={'default':ha?ha['default']:0,reduced:ha?ha.reduced:'0'}}var ia=c('UFIReactionsUtils').getReactionData({viewerreaction:z.viewerreaction,reactioncount:z.reactioncount,reactioncountreduced:z.reactioncountreduced,reactioncountmap:ea,reactorids:z.viewerreaction?[da]:[]},aa,da);return {actiontype:c('UFIConstants').UFIActionType.COMMENT_REACTION,commentid:ba,hasviewerliked:!!aa,likecount:ia.reactioncountmap[1]['default'],reactioncount:ia.reactioncount,reactioncountmap:ia.reactioncountmap,reactioncountreduced:ia.reactioncountreduced,viewerreaction:aa}}f.exports=h}),null);
__d("CommentPostedLiveState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIVE:"Live",ON_DEMAND:"OnDemand"})}),null);
__d('UFIPagedCommentListImpl',['ClientIDs','KeyedCallbackManager','UFICentralUpdates','UFICommentLogger','UFIConfig','UFIConstants','UFIFeedbackTargets'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.actorID=null;this.basePermalink=null;this.commentPermalinks=Object.create(null);this.count=0;this.dataSource=new (c('KeyedCallbackManager'))();this.deletedComments=Object.create(null);this.deletedCount=0;this.lastRequestedLength=0;this.lastRequestedOffset=0;this.feedbackTargetID=i;c('UFIFeedbackTargets').getFeedbackTarget(this.feedbackTargetID,function(j){this.actorID=j.actorforpost;this.basePermalink=j.permalink}.bind(this))}h.prototype.setClientHasAll=function(i){};h.prototype.addOrUpdateComment=function(i){if(i.__typename==='local'){this.$UFIPagedCommentListImpl1(i.id)}else this.$UFIPagedCommentListImpl2(i.id,i.clientid,i.legacyid);c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID)};h.prototype.$UFIPagedCommentListImpl1=function(i){this.dataSource.setResource(this.count,i);this.count++};h.prototype.$UFIPagedCommentListImpl2=function(i,j,k){var l=j&&c('ClientIDs').isExistingClientID(j),m=this.dataSource.getAllResources(),n={};for(var o in m){var p=m[o];n[p]=o}if(l&&j&&j in n){n[i]=n[j];var q=n[j];this.dataSource.setResource(q,i);if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentReceived(j,Date.now());}else if(!n[i]&&j)this.$UFIPagedCommentListImpl1(i);if(k&&i in n)this.commentPermalinks[i]=this.buildCommentPermalink(i,k,n[i]);};h.prototype.addCommentIDs=function(i,j,k){var l={};for(var m=0;m<j;m++)l[i+m]=k[m]||c('UFIConstants').unavailableCommentKey;this.dataSource.addResourcesAndExecute(l);c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID)};h.prototype.getComments=function(i,j,k,l){var m=new Array(j).fill().map(function(s,t){return t+i}),n=this.dataSource.getUnavailableResourcesFromRequest(m);if(n.length){var o=Math.min.apply(Math,n),p=Math.max.apply(Math,n),q=o,r=p-o+1;if(q<this.lastRequestedOffset||q+r>this.lastRequestedOffset+this.lastRequestedLength){this.lastRequestedOffset=q;this.lastRequestedLength=r;this.fetchComments(q,r,k)}}else this.dataSource.executeOrEnqueue(m,function(s){return l(this.commentsFromCommentIDs(s,i,j))}.bind(this));};h.prototype.getCommentsOrThrow=function(i){var j=i.getLength(),k=i.getOffset(),l={};new Array(j).fill().forEach(function(m,n){var o=n+k,p=this.dataSource.getResource(o);if(!p)throw new Error('Tried to get nonexistent comment');l[o]=p}.bind(this));return this.commentsFromCommentIDs(l,k,j)};h.prototype.fetchComments=function(i,j,k){};h.prototype.commentsFromCommentIDs=function(i,j,k){return {}};h.prototype.reset=function(){var i=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return i};h.prototype.deleteComment=function(i){if(!(i in this.deletedComments)){this.deletedComments[i]=true;this.deletedCount++}};h.prototype.updateCommentCount=function(i){this.count=i;this.deletedCount=0};h.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID};h.prototype.getCommentCount=function(){return this.count};h.prototype.getDeletedCount=function(){return this.deletedCount};h.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount};h.prototype.getBasePermalink=function(){return this.basePermalink};h.prototype.buildCommentPermalink=function(i,j,k){return null};h.prototype.getPermalinkForComment=function(i){return this.commentPermalinks[i]};f.exports=h}),null);
__d('UFIReplyCommentListImpl',['ActorURI','JSLogger','MercuryServerDispatcher','UFICommentLogger','UFIComments','UFIConfig','UFIPagedCommentListImpl','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('JSLogger').create('ufi_reply_comment_list');h=babelHelpers.inherits(k,c('UFIPagedCommentListImpl'));i=h&&h.prototype;function k(l,m,n){i.constructor.call(this,l);this.parentCommentID=m;this.containerOrderingMode=n}k.prototype.fetchComments=function(l,m,n){if(c('UFIConfig').logCommentLoad)c('UFICommentLogger').logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:m,is_reply:true});var o={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[l],lengths:[m],feed_context:n?n.feedContext:null,numpagerclicks:n?n.numPagerClicks:null,containerorderingmode:this.containerOrderingMode,translate_all:n?n.translateAll:null};if(!n||!n.viewAs)o[c('ActorURI').PARAMETER_ACTOR]=this.actorID;c('MercuryServerDispatcher').trySend('/ajax/ufi/reply_fetch.php',o)};k.prototype.commentsFromCommentIDs=function(l,m,n){var o={};for(var p=0;p<n;p++){var q=c('UFIComments').getComment(l[m+p]);if(q)o[m+p]=q;}return o};k.prototype.reset=function(){var l=i.reset.call(this),m={};for(var n in l){var o=l[n];m[o]=true}c('UFIComments').resetComments(m);return l};k.prototype.getParentCommentID=function(){return this.parentCommentID};k.prototype.buildCommentPermalink=function(l,m,n){if(!this.basePermalink)return null;var o=this.getParentCommentID().split('_'),p=m;if(o.length===2){p=o[1]}else j.error('Bad reply comment ID: '+this.getParentCommentID());return new (c('URI'))(this.basePermalink).addQueryData({comment_id:p,reply_comment_id:m}).toString()};c('MercuryServerDispatcher').registerEndpoints({'/ajax/ufi/reply_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE}});f.exports=k}),null);
__d('UFIReplyCommentList',['UFICentralUpdates','UFIComments','UFIConstants','UFIReplyCommentListImpl','getObjectValues'],(function a(b,c,d,e,f,g){'use strict';var h={},i={getCommentList:function k(l,m,n){if(!h[m])h[m]={};if(!h[m][n]){var o=new (c('UFIReplyCommentListImpl'))(l,m,n),p=i.getReplyListsForParentCommentID(String(m));if(p.length)o.updateCommentCount(p[0].getCommentCount());h[m][n]=o}return h[m][n]},getReplyListsForParentCommentID:function k(l){return c('getObjectValues')(h[l]||{})},resetWithContext:function k(l,m,n,o){var p=h[m][o];if(!p)return;p.reset();p.actorID=n}};function j(k){var l=c('UFIComments').getComment(k.commentid);if(!l)return;var m=l.id,n=l.parentcommentid;if(!n)return;if(l.status!==c('UFIConstants').UFIStatus.DELETED&&l.status!==c('UFIConstants').UFIStatus.FAILED_ADD)i.getReplyListsForParentCommentID(n).forEach(function(o){o.deleteComment(m)});}c('UFICentralUpdates').subscribe('update-actions',function(k,l){if(l.actions&&l.actions.length)for(var m=0;m<l.actions.length;m++){var n=l.actions[m];switch(n.actiontype){case c('UFIConstants').UFIActionType.DELETE_COMMENT:j(n);break;}}});c('UFICentralUpdates').subscribe('update-comment-lists',function(k,l){var m=l.commentlists;if(m&&m.replies&&Object.keys(m).length)for(var n in m.replies){var o=m.replies[n],p=o.ftentidentifier,q=o.containerorderingmode,r=i.getCommentList(String(p),String(n),q);r.addCommentIDs(o.range.offset,o.range.length,o.values);r.updateCommentCount(o.count)}});c('UFICentralUpdates').subscribe('update-comments',function(k,l){if(l.comments&&l.comments.length)l.comments.forEach(function(m){var n=m.parentcommentid;if(!n)return;i.getReplyListsForParentCommentID(String(n)).forEach(function(o){o.addOrUpdateComment(m)})});});f.exports=i}),22);
__d('UFIToplevelPagedCommentListImpl',['ActorURI','MercuryServerDispatcher','UFICommentLogger','UFIComments','UFIConfig','UFIOrderingModeStore','UFIPagedCommentListImpl','URI','WebCommentViewOption'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('UFIPagedCommentListImpl'));i=h&&h.prototype;function j(k,l){i.constructor.call(this,k);this.clientHasAll=false;this.orderReversed=c('UFIOrderingModeStore').isInverted(l);this.orderingMode=l;this.clientHasAll=false}j.prototype.fetchComments=function(k,l,m){if(c('UFIConfig').logCommentLoad)c('UFICommentLogger').logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:l,is_reply:false});var n={ft_ent_identifier:this.feedbackTargetID,viewas:m&&m.viewAs?m.viewAs+'':null,source:m&&m.feedbackSource,offset:k,length:l,orderingmode:this.orderingMode,feed_context:m?m.feedContext:null,numpagerclicks:m?m.numPagerClicks:null,translate_all:m?m.translateAll:null,clientcommentcount:this.count};if(this.orderingMode!==c('WebCommentViewOption').RECENT_ACTIVITY||this.orderingMode!==c('WebCommentViewOption').RANKED_THREADED||this.orderingMode!==c('WebCommentViewOption').FILTERED)delete n.clientcommentcount;if(!m||!m.viewAs)n[c('ActorURI').PARAMETER_ACTOR]=this.actorID;c('MercuryServerDispatcher').trySend('/ajax/ufi/comment_fetch.php',n)};j.prototype.commentsFromCommentIDs=function(k,l,m){var n={},o=l,p=l+m-1;for(var q=0;q<m;q++){var r=this.orderReversed?p-q:o+q,s=c('UFIComments').getComment(k[r]);if(s)n[l+q]=s;}return n};j.prototype.getOrderingMode=function(){return this.orderingMode};j.prototype.setClientHasAll=function(k){this.clientHasAll=k};j.prototype.getClientHasAll=function(){return this.clientHasAll};j.prototype.buildCommentPermalink=function(k,l,m){if(!this.basePermalink)return null;return new (c('URI'))(this.basePermalink).addQueryData({comment_id:l}).toString()};c('MercuryServerDispatcher').registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE}});f.exports=j}),null);
__d("UFIStreamingStateType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIVE:"live",ON_DEMAND:"on_demand"})}),null);
__d('UFIToplevelStreamedCommentList',['invariant','ClientIDs','Map','UFICentralUpdates','UFICommentLogger','UFIComments','UFIConfig','UFIConstants','UFIRange','UFIStreamingStateType'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){this.feedbackTargetID=j;this.commentIDs=[];this.deletedCount=0;this.totalCommentCount=0}i.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID};i.prototype.getClientHasAll=function(){return false};i.prototype.getActualCommentCount=function(){return this.commentIDs.length};i.prototype.getCommentCount=function(){return this.totalCommentCount};i.prototype.getDisplayedCommentCount=function(){return this.getCommentCount()-this.getDeletedCount()};i.prototype.getDeletedCount=function(){return this.deletedCount};i.prototype.getPermalinkForComment=function(j){return ''};i.prototype.getComments=function(j,k,l,m){m(this.getCommentsOrThrow(new (c('UFIRange'))(j,k),l))};i.prototype.getCommentsOrThrow=function(j,k){var l=j.getLength(),m=j.getOffset();m===0||h(0);var n=k.streamingOrderReversed,o={};for(var p=0;p<Math.min(l,this.commentIDs.length);++p){var q=n?this.commentIDs.length-1-p:p,r=c('UFIComments').getComment(this.commentIDs[q]);if(r)o[p]=r;}return o};i.prototype.$UFIToplevelStreamedCommentList3=function(){var j=this.commentIDs;this.commentIDs=[];return j};i.prototype.hasComment=function(j){for(var k=0;k<this.commentIDs.length;++k)if(this.commentIDs[k]===j.id)return true;return false};i.prototype.addCommentIDs=function(j,k,l){};i.prototype.setClientHasAll=function(j){};i.prototype.addOrUpdateComment=function(j){var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1],l=j.clientid;if(l&&c('ClientIDs').isExistingClientID(l)){for(var m=0;m<this.commentIDs.length;++m)if(this.commentIDs[m]===l){this.commentIDs[m]=j.id;if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentReceived(l,Date.now());}}else if(k||j.__typename==='local'){if(this.hasComment(j))return;this.commentIDs.push(j.id);if(k!==c('UFIStreamingStateType').ON_DEMAND&&!j.isAnnouncement&&!j.tipOptionIndex)this.totalCommentCount+=1;}if(this.commentIDs.length>50)this.commentIDs.shift();c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID)};i.prototype.deleteComment=function(j){this.deletedCount+=1;var k=[];for(var l=0;l<this.commentIDs.length;++l){var m=this.commentIDs[l];if(m!==j)k.push(m);}this.commentIDs=k};i.prototype.updateCommentCount=function(j){this.totalCommentCount=j;this.deletedCount=0};i.getCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.$UFIToplevelStreamedCommentList1.get(j);if(!l){l=new (c('Map'))();i.$UFIToplevelStreamedCommentList1.set(j,l)}var m=l.get(k);if(!m){m=new i(j);l.set(k,m)}return m};i.getExistingCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.$UFIToplevelStreamedCommentList1.get(j);if(!l)return null;return l.get(k)};i.getAllExistingCommentLists=function(j){var k=i.$UFIToplevelStreamedCommentList1.get(j);if(!k)return [];return Array.from(k.values())};i.$UFIToplevelStreamedCommentList4=function(j,k){var l=i.$UFIToplevelStreamedCommentList2.get(j);if(l){k.forEach(function(n){l[n]=true});return}var m={};k.forEach(function(n){m[n]=true});i.$UFIToplevelStreamedCommentList2.set(j,m)};i.resetCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.getExistingCommentList(j,k);if(!l)return;i.$UFIToplevelStreamedCommentList4(j,l.$UFIToplevelStreamedCommentList3())};i.resetAllCommentLists=function(j){var k=i.getAllExistingCommentLists(j);if(k.length===0)return;k.forEach(function(m){i.$UFIToplevelStreamedCommentList4(j,m.$UFIToplevelStreamedCommentList3())});var l=i.$UFIToplevelStreamedCommentList2.get(j);if(l){i.$UFIToplevelStreamedCommentList2['delete'](j);c('UFIComments').resetComments(l)}};i.GLOBAL_ID='GLOBAL_ID';i.$UFIToplevelStreamedCommentList1=new (c('Map'))();i.$UFIToplevelStreamedCommentList2=new (c('Map'))();c('UFICentralUpdates').subscribe('update-actions',function(j,k){if(!k.actions)return;k.actions.forEach(function(l){if(l.actiontype!==c('UFIConstants').UFIActionType.DELETE_COMMENT)return;var m=c('UFIComments').getComment(l.commentid);if(!m)return;var n=m.id,o=m.ftentidentifier,p=m.parentcommentid;if(p)return;if(l.islocal||m.status!==c('UFIConstants').UFIStatus.DELETED&&m.status!==c('UFIConstants').UFIStatus.FAILED_ADD)i.getAllExistingCommentLists(o).forEach(function(q){return q.deleteComment(n)});})});c('UFICentralUpdates').subscribe('update-comments',function(j,k){if(!k.comments)return;var l=k.targetufiinstanceid;k.comments.forEach(function(m){if(m.parentcommentid)return;if(l){i.getCommentList(m.ftentidentifier,l).addOrUpdateComment(m,k.streamingstate)}else i.getAllExistingCommentLists(m.ftentidentifier).forEach(function(n){n.addOrUpdateComment(m,k.streamingstate)});})});c('UFICentralUpdates').subscribe('update-feedback',function(j,k){var l=k.feedbacktarget?k.feedbacktarget:k.feedbacktargets&&k.feedbacktargets[0];if(!l)return;i.getAllExistingCommentLists(l.entidentifier).forEach(function(m){return m.updateCommentCount(l.commentcount)})});f.exports=i}),22);
__d('UFIToplevelPagedCommentList',['UFICentralUpdates','UFIComments','UFIConstants','UFIReplyCommentList','UFIToplevelPagedCommentListImpl','UFIToplevelStreamedCommentList','WebCommentViewOption'],(function a(b,c,d,e,f,g){'use strict';var h={},i={getCommentList:function k(l,m){if(!h[l])h[l]={};if(!h[l][m]){var n=new (c('UFIToplevelPagedCommentListImpl'))(l,m),o=i.getCommentListsForFeedbackTargetID(l);if(o.length)n.updateCommentCount(o[0].getCommentCount());h[l][m]=n}return h[l][m]},getCommentListsForFeedbackTargetID:function k(l){var m=[],n=h[l]||{};for(var o in n)m.push(n[o]);return m},getPagedCommentCountForFeedbackTargetID:function k(l){var m=i.getCommentListsForFeedbackTargetID(l);return m.length?m[0].getCommentCount():null},getDisplayedCommentCountForFeedbackTargetID_UNSAFE:function k(l){var m=i.getCommentListsForFeedbackTargetID(l),n=m.length?m[0].getDisplayedCommentCount():null,o=c('UFIToplevelStreamedCommentList').getAllExistingCommentLists(l),p=o.length?o[0].getDisplayedCommentCount():null;if(n===null&&p===null)return null;return Math.max(n||0,p||0)},resetCommentListsForFeedbackTargetID:function k(l){if(!h[l])return;var m={};for(var n in h[l]){var o=h[l][n],p=o.reset();for(var q in p){var r=p[q];m[r]=true}}c('UFIComments').resetComments(m)},resetCommentListsWithContext:function k(l,m){var n=h[l];if(!n)return;var o={};for(var p in n){var q=n[p];q.actorID=m;var r=q.reset();for(var s in r){var t=r[s];o[t]=true;c('UFIReplyCommentList').resetWithContext(l,t,m,p)}}c('UFIComments').resetComments(o)}};function j(k){var l=c('UFIComments').getComment(k.commentid);if(!l)return;var m=l.id,n=l.ftentidentifier,o=l.parentcommentid;if(o)return;if(k.islocal||l.status!==c('UFIConstants').UFIStatus.DELETED&&l.status!==c('UFIConstants').UFIStatus.FAILED_ADD)i.getCommentListsForFeedbackTargetID(n).forEach(function(p){p.deleteComment(m)});}c('UFICentralUpdates').subscribe('update-actions',function(k,l){if(l.actions&&l.actions.length)for(var m=0;m<l.actions.length;m++){var n=l.actions[m];switch(n.actiontype){case c('UFIConstants').UFIActionType.DELETE_COMMENT:j(n);break;}}});c('UFICentralUpdates').subscribe('update-comment-lists',function(k,l){var m=l.commentlists;if(m&&m.comments&&Object.keys(m).length)for(var n in m.comments)for(var o in m.comments[n]){var p=m.comments[n][o],q=i.getCommentList(String(n),o);q.addCommentIDs(p.range.offset,p.range.length,p.values);q.setClientHasAll(!!p.forcenotpageable)}});c('UFICentralUpdates').subscribe('update-comments',function(k,l){if(l.comments&&l.comments.length)l.comments.forEach(function(m){if(m.parentcommentid)return;var n=m.ftentidentifier;i.getCommentListsForFeedbackTargetID(String(n)).forEach(function(o){o.addOrUpdateComment(m)})});});c('UFICentralUpdates').subscribe('update-feedback',function(k,l){var m,n=l.feedbacktarget?l.feedbacktarget:l.feedbacktargets&&l.feedbacktargets[0];if(n)(function(){var o=n.entidentifier,p=n.defaultcommentorderingmode,q={};if(p)q[p]=true;if(n.orderingmodes)n.orderingmodes.forEach(function(s){if(s.value===c('WebCommentViewOption').LIVE_STREAMING)return;q[s.value]=true});for(var r in q)i.getCommentList(String(o),String(r)).updateCommentCount(n.commentcount);})();});f.exports=i}),22);
__d("XGroupsMuteMembersController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/groups\/mutemember\/",{group_id:{type:"FBID"},user_id:{type:"FBID"},mute_duration:{type:"Enum",enumType:1},source:{type:"Enum",enumType:1},should_reload:{type:"Bool",defaultValue:false},mute_reason:{type:"FBID"},custom_expiration:{type:"Int"}})}),null);
__d("XTownHallController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/townhall\/",{address:{type:"String"},nux_shown:{type:"Bool",defaultValue:false},ref:{type:"Enum",enumType:1},term:{type:"String"},override_address:{type:"Bool",defaultValue:false},campaign:{type:"String"},setting_nux:{type:"Bool",defaultValue:false}})}),null);
__d("XUFIActorChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/actor\/change\/",{})}),null);
__d("XUFIAddCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/add\/comment\/",{})}),null);
__d("XUFICommentAcceptAnswerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/answer\/accept\/",{})}),null);
__d("XUFICommentAppealSpamController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/appeal_spam\/",{})}),null);
__d("XUFICommentKeepSpamController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/keep_spam\/",{})}),null);
__d("XUFICommentLikeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/like\/",{})}),null);
__d("XUFICommentSecureAccountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/secure_account\/",{})}),null);
__d("XUFIDeleteCommentAndRemoveCommenterController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/deletecommentandremovecommenter\/",{})}),null);
__d("XUFIDeleteCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/delete\/comment\/",{})}),null);
__d("XUFIEditCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/edit\/comment\/",{})}),null);
__d("XUFIHideCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/hide\/comment\/",{})}),null);
__d("XUFILikeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/like\/",{})}),null);
__d("XUFISendMessageController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/message\/send\/",{})}),null);
__d("XUFIToggleTextDelightsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/textdelights\/hide_comment_text_delights\/",{comment_id:{type:"String"},should_hide:{type:"Bool",defaultValue:false}})}),null);
__d("XUFITranslateCommentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/translate\/comment\/",{})}),null);
__d('UFIUserActions',['errorCode','fbt','invariant','ActorURI','AsyncResponse','Bootloader','ChannelClientID','ClientIDs','CommentPostedLiveState','ImmutableObject','MercuryServerDispatcher','UFICentralUpdates','UFICommentLogger','UFIComments','UFIConfig','UFIConstants','UFIFeedbackTargets','UFIReactionUserActions','UFIToplevelPagedCommentList','UFIToplevelStreamedCommentList','UFIUserActionUtils','UFIVideoPlayerRegistry','UnicodeBidi','XGroupsMuteMembersController','XTownHallController','XUFIActorChangeController','XUFIAddCommentController','XUFICommentAcceptAnswerController','XUFICommentAppealSpamController','XUFICommentKeepSpamController','XUFICommentLikeController','XUFICommentSecureAccountController','XUFIDeleteCommentAndRemoveCommenterController','XUFIDeleteCommentController','XUFIEditCommentController','XUFIHideCommentController','XUFILikeController','XUFISendMessageController','XUFIToggleTextDelightsAsyncController','XUFITranslateCommentController','goURI','ifRequired'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k={BAN:'ban',UNDO_BAN:'undo_ban'},l={changeActor:function qa(ra,sa){c('UFIFeedbackTargets').getFeedbackTarget(ra,function(ta){var ua;c('UFIToplevelPagedCommentList').resetCommentListsWithContext(ra,sa);c('UFIToplevelStreamedCommentList').resetAllCommentLists(ra);c('UFICentralUpdates').inform('actor-changed',{actorID:sa});var va=(ua={from_actor_id:ta.actorforpost,ft_ent_identifier:ra},ua[c('ActorURI').PARAMETER_ACTOR]=sa,ua),wa=c('XUFIActorChangeController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(wa,va)})},changeCommentLike:function qa(ra,sa,ta){var ua,va=c('UFIComments').getComment(ra);if(va&&va.__typename==='saved'&&va.hasviewerliked!=sa)(function(){var wa=ta.target?c('UFIUserActionUtils').trackingData(ta.target):{},xa=sa?1:-1,ya={commentid:ra,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:sa,likecount:(va.likecount||0)+xa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ya]});c('UFIFeedbackTargets').getFeedbackTarget(va.ftentidentifier,function(za){var ab={};ab[c('ActorURI').PARAMETER_ACTOR]=za.actorforpost;var bb=c('XUFICommentLikeController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(bb,babelHelpers['extends']({comment_id:ra,legacy_id:va.legacyid,like_action:sa,ft_ent_identifier:va.ftentidentifier,source:ta.source,client_id:c('ClientIDs').getNewClientID(),session_id:c('ChannelClientID').getID()},wa,ab))})})();},_getAttachment:function qa(ra){return ra},_getLocalComment:function qa(ra,sa,ta,ua,va,wa){var xa=c('ClientIDs').getNewClientID(),ya=c('UnicodeBidi').isDirectionLTR(ta)?'ltr':'rtl',za=this._getAttachment(va.attachedsticker);return {__typename:'local',ftentidentifier:sa,body:{text:ta,dir:ya},author:ra.actorforpost,cancomment:false,clientid:null,fbid:null,id:xa,ufiinstanceid:va.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:va.replyid,replycommentparentid:va.replycommentparentid,attachment:za,photo_comment:va.attachedphoto,video_comment:va.attachedvideo,timestamp:{time:Math.floor(Date.now()/1000),text:i._("\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27")},photoTextTagID:va.photoTextTagID,isPhotoTag:va.isPhotoTag,photoTagX:va.photoTagX,photoTagY:va.photoTagY,videoTimeOffset:wa,postedLiveState:va.islivestreaming?c('CommentPostedLiveState').LIVE:c('CommentPostedLiveState').ON_DEMAND}},addMessage:function qa(ra,sa,ta,ua,va){c('UFIFeedbackTargets').getFeedbackTarget(ra,function(wa){this.sendMessage(ra,sa,ta,ua,va)}.bind(this))},sendMessage:function qa(ra,sa,ta,ua,va){var wa=c('UFIFeedbackTargets').getFeedbackTargetIfExists(ra);if(!(wa&&wa.actorforpost))return;var xa=this._getLocalComment(wa,ra,sa,ta,ua,null);this._sendMessageToServer(ra,wa.actorforpost,sa,ta,ua,xa.id,va)},addComment:function qa(ra,sa,ta,ua){c('UFIFeedbackTargets').getFeedbackTarget(ra,function(va){var wa=this.createComment(ra,sa,ta,ua);if(!wa)return;var xa={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:va.actorforpost,hasviewersubscribed:true,entidentifier:va.entidentifier},ya={actiontype:c('UFIConstants').UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:va.targetfbid};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[wa],actions:[xa,ya]})}.bind(this))},createComment:function qa(ra,sa,ta,ua){var va=c('UFIFeedbackTargets').getFeedbackTargetIfExists(ra);if(!(va&&va.actorforpost))return null;var wa=null;if(ua.isBroadcasterUFI){wa=c('ifRequired')('LiveVideoBroadcastBroadcastStore',function(ab){return ab.getCurrentBroadcastTime()})}else if(ua.fluentContentToken&&(ua.isLiveVOD||ua.islivestreaming||ua.enableVODCommentTimestamps)){var xa=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(ua.target,ua.fluentContentToken)||0;if(ua.isLiveVOD||ua.islivestreaming){wa=xa}else{var ya=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerForElement(ua.target,ua.fluentContentToken);if(ya!=null&&xa>0&&xa<Math.floor(ya.getPlaybackDuration()))wa=xa;}}var za=this._getLocalComment(va,ra,sa,ta,ua,wa);this._sendCommentToServer(ra,va.actorforpost,sa,ta,ua,za.id,wa);return za},_sendMessageToServer:function qa(ra,sa,ta,ua,va,wa,xa){var ya=c('XUFISendMessageController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ya,{ft_ent_identifier:ra,comment_text:ua,client_id:wa,attached_sticker_fbid:va.attachedsticker?va.attachedsticker.fbid:0,attached_photo_fbid:va.attachedphoto?va.attachedphoto.fbid:0,attached_video_fbid:va.attachedvideo?va.attachedvideo.fbid:0,attached_share_url:va.attachedshareurl,messenger_recipient:xa})},_sendCommentToServer:function qa(ra,sa,ta,ua,va,wa,xa){var ya=null;if(va.reply_fbid){ya=va.reply_fbid}else if(va.replyid){var za=c('UFIComments').getComment(va.replyid);za||j(0);ya=za.fbid}var ab=void 0;if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentPost(wa,va.timestamp||0,{has_photo:!!va.attachedphoto,has_video:!!va.attachedvideo,has_sticker:!!va.attachedsticker,is_reply:!!va.replyid});var bb={};bb[c('ActorURI').PARAMETER_ACTOR]=sa;var cb=c('XUFIAddCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(cb,babelHelpers['extends']({ft_ent_identifier:ra,comment_text:ua,source:va.source,client_id:wa,session_id:c('ChannelClientID').getID(),reply_fbid:ya,parent_comment_id:va.parent_comment_id||va.replyid,reply_comment_parent_id:va.replycommentparentid,rootid:va.rootid,clp:ab,attached_sticker_fbid:va.attachedsticker?va.attachedsticker.fbid:0,attached_photo_fbid:va.attachedphoto?va.attachedphoto.fbid:0,attached_video_fbid:va.attachedvideo?va.attachedvideo.fbid:0,attached_share_url:va.attachedshareurl,feedback_referrer:va.feedbackReferrer,feed_context:va.feedcontext,video_time_offset:xa,is_live_streaming:va.islivestreaming,is_markdown:va.isMarkdown},c('UFIUserActionUtils').trackingData(va.target),bb,{photo_text_tag_id:va.photoTextTagID,is_private:va.isPrivate,is_photo_tag:va.isPhotoTag,photo_fbid:va.photoFBID,photo_tag_x:va.photoTagX,photo_tag_y:va.photoTagY}))},_hasCommentTextChanged:function qa(ra,sa){return !!ra.body&&ra.body.text!=sa},_hasCommentPhotoChanged:function qa(ra,sa){return !!((ra||sa)&&!(ra&&sa)||ra&&sa&&ra.fbid!=sa.fbid)},_hasCommentVideoChanged:function qa(ra,sa){return !!((ra||sa)&&!(ra&&sa)||ra&&sa&&ra.fbid!=sa.fbid)},_hasCommentStickerChanged:function qa(ra,sa){return !!((ra||sa)&&!(ra&&sa)||ra&&ra.type=='sticker'&&sa&&ra.fbid!=sa.fbid)},_hasCommentShareURLChanged:function qa(ra,sa){if(sa){return true}else return Boolean(ra&&ra.type=='share');},editComment:function qa(ra,sa,ta,ua){var va=c('UFIUserActionUtils').trackingData(ua.target),wa=c('UFIComments').getComment(ra);if(!wa)return;var xa=this._hasCommentTextChanged(wa,sa)||this._hasCommentPhotoChanged(wa.photo_comment,ua.attachedPhoto)||this._hasCommentStickerChanged(wa.attachment,ua.attachedSticker)||this._hasCommentVideoChanged(wa.video_comment,ua.attachedVideo)||this._hasCommentShareURLChanged(wa.attachment,ua.attachedShareURL);wa=c('ImmutableObject').set(wa,{status:c('UFIConstants').UFIStatus.PENDING_EDIT,body:{text:sa},editnux:null,attachment:ua.attachedSticker,photo_comment:ua.attachedPhoto,video_comment:ua.attachedVideo});if(xa)wa=c('ImmutableObject').set(wa,{originalTimestamp:wa.timestamp.time,timestamp:{time:Math.floor(Date.now()/1000),text:i._("\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27")}});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[wa]});c('UFIFeedbackTargets').getFeedbackTarget(wa.ftentidentifier,function(ya){var za={};za[c('ActorURI').PARAMETER_ACTOR]=ya.actorforpost;var ab=c('XUFIEditCommentController').getURIBuilder().getURI();if(wa)c('MercuryServerDispatcher').trySend(ab,babelHelpers['extends']({ft_ent_identifier:wa.ftentidentifier,comment_text:ta,source:ua.source,comment_id:wa.id,parent_comment_id:wa.parentcommentid,attached_sticker_fbid:ua.attachedSticker?ua.attachedSticker.fbid:0,attached_photo_fbid:ua.attachedPhoto?ua.attachedPhoto.fbid:0,attached_video_fbid:ua.attachedVideo?ua.attachedVideo.fbid:0,attached_share_url:ua.attachedShareURL},va,za));})},translateComments:function qa(ra,sa,ta,ua){var va=c('XUFITranslateCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(va,{ft_ent_identifier:ra,comment_ids:sa,source:ua.source,trigger:ta})},setHideAsSpam:function qa(ra,sa,ta){var ua=c('UFIUserActionUtils').trackingData(ta.target),va=c('UFIComments').getComment(ra),wa={commentid:ra,actiontype:c('UFIConstants').UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:sa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[wa]});if(va)c('UFIFeedbackTargets').getFeedbackTarget(va.ftentidentifier,function(xa){var ya={};ya[c('ActorURI').PARAMETER_ACTOR]=xa.actorforpost;var za=c('XUFIHideCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(za,babelHelpers['extends']({comment_id:ra,spam_action:sa,ft_ent_identifier:va.ftentidentifier,source:ta.source},ua,ya))});},keepSpam:function qa(ra,sa){var ta=c('UFIUserActionUtils').trackingData(sa.target),ua=c('UFIComments').getComment(ra),va={commentid:ra,actiontype:c('UFIConstants').UFIActionType.COMMENT_KEEP_SPAM};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[va]});if(ua)c('UFIFeedbackTargets').getFeedbackTarget(ua.ftentidentifier,function(wa){var xa={};xa[c('ActorURI').PARAMETER_ACTOR]=wa.actorforpost;var ya=c('XUFICommentKeepSpamController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ya,babelHelpers['extends']({comment_id:ra,ft_ent_identifier:ua.ftentidentifier,source:sa.source},ta,xa));c('Bootloader').loadModules(["SimpleXUIDialog"],function(za){za.show(i._("\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e2b\u0e47\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e43\u0e19\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49"),i._("\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e41\u0e25\u0e49\u0e27"))},'UFIUserActions')});},appealSpam:function qa(ra,sa,ta){var ua=c('UFIUserActionUtils').trackingData(ta.target),va=c('UFIComments').getComment(ra),wa={commentid:ra,actiontype:c('UFIConstants').UFIActionType.COMMENT_APPEAL_SPAM};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[wa]});if(va)c('UFIFeedbackTargets').getFeedbackTarget(va.ftentidentifier,function(xa){var ya={};ya[c('ActorURI').PARAMETER_ACTOR]=xa.actorforpost;var za=c('XUFICommentAppealSpamController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(za,babelHelpers['extends']({comment_id:ra,ft_ent_identifier:va.ftentidentifier,source:ta.source},ua,ya));c('Bootloader').loadModules(["SimpleXUIDialog"],function(ab){ab.show(i._("\u0e02\u0e49\u0e2d\u0e40\u0e2a\u0e19\u0e2d\u0e41\u0e19\u0e30\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e08\u0e30\u0e0a\u0e48\u0e27\u0e22\u0e17\u0e33\u0e43\u0e2b\u0e49\u0e40\u0e23\u0e32\u0e1e\u0e31\u0e12\u0e19\u0e32\u0e44\u0e14\u0e49\u0e14\u0e35\u0e02\u0e36\u0e49\u0e19"),i._("\u0e02\u0e2d\u0e1a\u0e04\u0e38\u0e13\u0e17\u0e35\u0e48\u0e41\u0e08\u0e49\u0e07\u0e43\u0e2b\u0e49\u0e40\u0e23\u0e32\u0e17\u0e23\u0e32\u0e1a"))},'UFIUserActions')});},secureAccount:function qa(ra,sa){var ta=c('UFIUserActionUtils').trackingData(sa.target),ua=c('UFIComments').getComment(ra),va={actiontype:c('UFIConstants').UFIActionType.COMMENT_SECURE_ACCOUNT,commentid:ra,islocal:true,oneclick:sa.oneclick};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[va]});if(ua)c('UFIFeedbackTargets').getFeedbackTarget(ua.ftentidentifier,function(wa){var xa={};xa[c('ActorURI').PARAMETER_ACTOR]=wa.actorforpost;var ya=c('XUFICommentSecureAccountController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ya,babelHelpers['extends']({comment_id:ua.id,ft_ent_identifier:ua.ftentidentifier,source:sa.source},ta,xa))});},removeComment:function qa(ra,sa,ta){var ua=c('UFIUserActionUtils').trackingData(sa.target),va=c('UFIComments').getComment(ra),wa={actiontype:c('UFIConstants').UFIActionType.DELETE_COMMENT,commentid:ra,islocal:true,oneclick:sa.oneclick};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[wa]});if(va&&va.__typename==='saved')c('UFIFeedbackTargets').getFeedbackTarget(va.ftentidentifier,function(xa){var ya={};ya[c('ActorURI').PARAMETER_ACTOR]=xa.actorforpost;var za=c('XUFIDeleteCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(za,babelHelpers['extends']({comment_id:va.id,comment_legacyid:va.legacyid,ft_ent_identifier:va.ftentidentifier,one_click:sa.oneclick,source:sa.source,client_id:c('ClientIDs').getNewClientID()},ua,ya))});},removeCommentWithRule:function qa(ra,sa,ta){var ua=c('UFIUserActionUtils').trackingData(sa.target),va=c('UFIComments').getComment(ra),wa={actiontype:c('UFIConstants').UFIActionType.DELETE_COMMENT,commentid:ra,islocal:true,oneclick:sa.oneclick};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[wa]});if(va&&va.__typename==='saved')c('UFIFeedbackTargets').getFeedbackTarget(va.ftentidentifier,function(xa){var ya={};ya[c('ActorURI').PARAMETER_ACTOR]=xa.actorforpost;var za=c('XUFIDeleteCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(za,babelHelpers['extends']({comment_id:va.id,comment_legacyid:va.legacyid,ft_ent_identifier:va.ftentidentifier,one_click:sa.oneclick,source:sa.source,rule_id:ta,client_id:c('ClientIDs').getNewClientID()},ua,ya))});},deleteCommentAndRemoveCommenter:function qa(ra,sa,ta,ua,va,wa,xa){var ya=c('UFIUserActionUtils').trackingData(sa.target),za=c('UFIComments').getComment(ra),ab={actiontype:c('UFIConstants').UFIActionType.DELETE_COMMENT_REMOVE_COMMENTER,commentid:ra,islocal:true,oneclick:sa.oneclick};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ab]});if(za&&za.__typename==='saved')c('UFIFeedbackTargets').getFeedbackTarget(za.ftentidentifier,function(bb){var cb={};cb[c('ActorURI').PARAMETER_ACTOR]=bb.actorforpost;var db=c('XUFIDeleteCommentAndRemoveCommenterController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(db,babelHelpers['extends']({comment_id:za.id,comment_legacyid:za.legacyid,ft_ent_identifier:za.ftentidentifier,one_click:sa.oneclick,source:sa.source,delete_posts:ta,delete_comments:ua,decline_pending_members:va,block_permanently:wa,apply_to_other_groups:xa,client_id:c('ClientIDs').getNewClientID()},ya,cb))});},muteMember:function qa(ra,sa,ta,ua){var va=c('UFIComments').getComment(ra),wa=ta!==null;if(va&&va.__typename==='saved'){var xa={authorid:va.author,actiontype:c('UFIConstants').UFIActionType.MUTE_MEMBER,shouldmute:wa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[xa]});var ya;c('Bootloader').loadModules(["GroupMemberActionSource"],function(ab){ya=ab.GROUP_COMMENT},'UFIUserActions');var za=c('XGroupsMuteMembersController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(za,{group_id:va.group_id,user_id:va.author,mute_duration:ta,custom_expiration:ua,should_reload:false,source:ya})}},toggleTextDelights:function qa(ra,sa,ta){var ua=c('XUFIToggleTextDelightsAsyncController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ua,{comment_id:ra.id,ft_ent_identifier:ra.ftentidentifier,should_hide:ta,parent_comment_id:ra.parentcommentid,source:sa.source})},changeAcceptedAnswer:function qa(ra,sa){c('MercuryServerDispatcher').trySend(aa,{ft_ent_identifier:ra.id,do_accept:sa})},banUser:function qa(ra,sa,ta,ua){var va=ta?k.BAN:k.UNDO_BAN;c('MercuryServerDispatcher').trySend('/ajax/ufi/ban_user.php',{page_id:sa,commenter_id:ra.author,action:va,comment_id:ra.id,client_side:true})},changeSubscribe:function qa(ra,sa,ta){c('UFIFeedbackTargets').getFeedbackTarget(ra,function(ua){var va=c('UFIUserActionUtils').trackingData(ta.target);if(ua.hasviewersubscribed!==sa){var wa={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:ua.actorforpost,hasviewersubscribed:sa,entidentifier:ra};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[wa]});var xa={};xa[c('ActorURI').PARAMETER_ACTOR]=ua.actorforpost;c('MercuryServerDispatcher').trySend('/ajax/ufi/subscribe.php',babelHelpers['extends']({subscribe_action:sa,ft_ent_identifier:ra,source:ta.source,client_id:c('ClientIDs').getNewClientID(),rootid:ta.rootid,comment_expand_mode:ta.commentexpandmode},va,xa))}})},fetchSpamComments:function qa(ra,sa,ta,ua){c('MercuryServerDispatcher').trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ra,viewas:ua,comment_ids:sa,parent_comment_id:ta,source:null})},manageConstituentBadge:function qa(ra){c('goURI')(c('XTownHallController').getURIBuilder().setBool('setting_nux',true).getURI())},removePreview:function qa(ra,sa){var ta=c('UFIUserActionUtils').trackingData(sa.target),ua={commentid:ra.id,actiontype:c('UFIConstants').UFIActionType.REMOVE_PREVIEW};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ua]});c('MercuryServerDispatcher').trySend('/ajax/ufi/remove_preview.php',babelHelpers['extends']({comment_id:ra.id,ft_ent_identifier:ra.ftentidentifier,source:sa.source},ta))}};function m(qa){c('AsyncResponse').defaultErrorHandler(qa)}function n(qa){var ra=qa.request.data;c('AsyncResponse').defaultErrorHandler(qa);var sa=ra.client_id||ra.comment_id,ta=c('UFIComments').getComment(sa);if(!ta)return;var ua=ta.status===c('UFIConstants').UFIStatus.PENDING_EDIT?c('UFIConstants').UFIStatus.FAILED_EDIT:c('UFIConstants').UFIStatus.FAILED_ADD;ta=c('ImmutableObject').setDeep(ta,{status:ua,allowRetry:o(qa),body:{mentionstext:ra.comment_text,mentionsphoto:ta.photo_comment,mentionsvideo:ta.video_comment}});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[ta]})}function o(qa){var ra=qa.getError();if(qa.isBlockedAction())return false;if(qa.silentError)return true;if(ra===1357012||ra===1357006)return false;return true}function p(qa){var ra=qa.request.data,sa=ra.comment_id,ta=c('UFIComments').getComment(sa);if(!ta)return;ta=c('ImmutableObject').set(ta,{status:ta.priorstatus||null,priorstatus:undefined});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[ta]})}function q(qa){var ra=qa.request.data,sa=ra.comment_id,ta=c('UFIComments').getComment(sa);if(!ta)return;ta=c('ImmutableObject').set(ta,{commentid:sa,needsApproval:!ta.needsApproval,isApproved:!ta.isApproved});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[ta]})}function r(qa){var ra=qa.request.data,sa=ra.comment_id,ta=c('UFIComments').getComment(sa);if(ta){ta=c('ImmutableObject').set(ta,{commentid:sa,appealStatus:null,canAppeal:!ta.canAppeal,canSecure:!ta.canSecure});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[ta]})}}function s(qa){var ra=qa.request.data,sa=ra.comment_id,ta=c('UFIComments').getComment(sa);if(ta&&ra.like_action===ta.hasviewerliked){var ua=ta.hasviewerliked?-1:1,va={commentid:sa,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:!ta.hasviewerliked,likecount:(ta.likecount||0)+ua};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[va]})}c('AsyncResponse').defaultErrorHandler(qa)}function t(qa){var ra=qa.request.data,sa=ra.ft_ent_identifier;c('UFIFeedbackTargets').getFeedbackTarget(sa,function(ta){if(ta.hasviewerliked===ra.like_action){var ua=ta.hasviewerliked?-1:1,va={actiontype:c('UFIConstants').UFIActionType.LIKE_ACTION,actorid:ta.actorforpost,hasviewerliked:!ta.hasviewerliked,likecount:(ta.likecount||0)+ua,entidentifier:sa,likesentences:{current:ta.likesentences.alternate,alternate:ta.likesentences.current}};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[va]})}});c('AsyncResponse').defaultErrorHandler(qa)}function u(qa){var ra=qa.request.data,sa=ra.ft_ent_identifier;c('UFIFeedbackTargets').getFeedbackTarget(sa,function(ta){if(ta.hasviewersubscribed===ra.subscribe_action){var ua={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:ta.actorforpost,hasviewersubscribed:!ta.hasviewersubscribed,entidentifier:sa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ua]})}});c('AsyncResponse').defaultErrorHandler(qa)}var v={'/ajax/ufi/ban_user.php':{mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:m},'/ajax/ufi/subscribe.php':{mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:u,batch_if:oa,batch_function:pa},'/ajax/ufi/id_comment_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE},'/ajax/ufi/remove_preview.php':{mode:c('MercuryServerDispatcher').IMMEDIATE},'/profile/broadcast_request/async/add_composer_token/':{mode:c('MercuryServerDispatcher').IMMEDIATE}},w=c('XUFIAddCommentController').getURIBuilder().getURI();v[w]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:n};var x=c('XUFIDeleteCommentController').getURIBuilder().getURI();v[x]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:p};var y=c('XUFIDeleteCommentAndRemoveCommenterController').getURIBuilder().getURI();v[y]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:p};var z=c('XUFICommentLikeController').getURIBuilder().getURI();v[z]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:s,batch_if:ma,batch_function:pa};var aa=c('XUFICommentAcceptAnswerController').getURIBuilder().getURI();v[aa]={mode:c('MercuryServerDispatcher').IMMEDIATE};var ba=c('XGroupsMuteMembersController').getURIBuilder().getURI();v[ba]={mode:c('MercuryServerDispatcher').IMMEDIATE};var ca=c('XUFIToggleTextDelightsAsyncController').getURIBuilder().getURI();v[ca]={mode:c('MercuryServerDispatcher').IMMEDIATE};var da=c('XUFIHideCommentController').getURIBuilder().getURI();v[da]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:p};var ea=c('XUFICommentKeepSpamController').getURIBuilder().getURI();v[ea]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:q};var fa=c('XUFICommentAppealSpamController').getURIBuilder().getURI();v[fa]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:r};var ga=c('XUFICommentSecureAccountController').getURIBuilder().getURI();v[ga]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:r};var ha=c('XUFILikeController').getURIBuilder().getURI();v[ha]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:t,batch_if:na,batch_function:pa};var ia=c('XUFIEditCommentController').getURIBuilder().getURI();v[ia]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:n};var ja=c('XUFITranslateCommentController').getURIBuilder().getURI();v[ja]={mode:c('MercuryServerDispatcher').IMMEDIATE};var ka=c('XUFIActorChangeController').getURIBuilder().getURI();v[ka]={mode:c('MercuryServerDispatcher').IMMEDIATE};var la=c('XUFISendMessageController').getURIBuilder().getURI();v[la]={mode:c('MercuryServerDispatcher').IMMEDIATE};c('MercuryServerDispatcher').registerEndpoints(v);function ma(qa,ra){return qa&&qa.ft_ent_identifier==ra.ft_ent_identifier&&qa.comment_id==ra.comment_id}function na(qa,ra){return qa&&qa.ft_ent_identifier==ra.ft_ent_identifier}function oa(qa,ra){return qa&&qa.ft_ent_identifier==ra.ft_ent_identifier}function pa(qa,ra){return ra}f.exports=babelHelpers['extends']({},l,c('UFIReactionUserActions'))}),null);
__d('UFISpamStore',['FluxReduceStore','UFIDispatcherBase','UFIStoryActionType','UFIUserActions'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {}};j.prototype.areEqual=function(k,l){return Object.keys(k).length===Object.keys(l).length};j.prototype.reduce=function(k,l){switch(l.type){case c('UFIStoryActionType').SPAM_FETCHED:k=babelHelpers['extends']({},k);l.commentIDs.forEach(function(m){return k[m]=true});c('UFIUserActions').fetchSpamComments(l.ftentidentifier,l.commentIDs,l.parentCommentID,l.viewas);break;}return k};function j(){h.apply(this,arguments)}f.exports=new j(c('UFIDispatcherBase'))}),null);
__d('UFIAddCommentAction',['UFIAddCommentActionType'],(function a(b,c,d,e,f,g){'use strict';var h={cancel:function i(j){return {type:c('UFIAddCommentActionType').CANCEL,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier}},changeContent:function i(j,k,l){return {type:c('UFIAddCommentActionType').CHANGE_CONTENT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,text:k,replyFBID:l}},retrySubmit:function i(j,k){return {type:c('UFIAddCommentActionType').RETRY_SUBMIT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k}},submitEdit:function i(j,k,l,m){return {type:c('UFIAddCommentActionType').SUBMIT_EDIT,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k,commentData:l,target:m}},submitNew:function i(j,k,l,m){return {type:c('UFIAddCommentActionType').SUBMIT_NEW,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,comment:k,target:l,replyCommentID:m,timestamp:Date.now()}},submitCommentPivot:function i(j,k,l,m){return {type:c('UFIAddCommentActionType').PIVOT_SEND_MESSAGE,instanceID:j.instanceid,ftentidentifier:j.ftentidentifier,recipientID:m,comment:k,target:l,timestamp:Date.now()}}};f.exports=h}),null);
__d('UFINewCommentNotifier',['Arbiter','UFIFeedbackTargets','UFIUIEvents','UFIUserActions'],(function a(b,c,d,e,f,g){'use strict';var h={onNewComment:function i(j,k,l,m,n,o){c('UFIUserActions').addComment(k.ftentidentifier,l.visibleValue,l.encodedValue,{source:k.source,ufiinstanceid:k.instanceid,target:m,replyid:n,rootid:k.rootid,attachedphoto:l.attachedPhoto,attachedvideo:l.attachedVideo,attachedsticker:l.attachedSticker,feedcontext:k.feedcontext,timestamp:o,feedbackReferrer:k.feedbackReferrer,isMarkdown:l.isMarkdown,fluentContentToken:k.fluentContentToken,isLiveVOD:k.isLiveVOD,islivestreaming:k.islivestreaming,photoTextTagID:k.photoTextTagID,isPrivate:l.isPrivate,isPhotoTag:k.isPhotoTag,photoFBID:k.photoFBID,photoTagX:k.photoTagX,photoTagY:k.photoTagY,attachedshareurl:l.attachedShareURL,isBroadcasterUFI:k.isBroadcasterUFI,enableVODCommentTimestamps:k.enableVODCommentTimestamps});c('UFIFeedbackTargets').getFeedbackTarget(k.ftentidentifier,function(p){if(j)c('Arbiter').inform(c('UFIUIEvents').Comment,{ft_id:p.entidentifier,target:m,form:j,isinverted:p.isranked||k.islivestreaming,isPhotoTag:k.isPhotoTag,photoTextTagID:k.photoTextTagID,photoTagX:k.photoTagX,photoTagY:k.photoTagY});})},onNewCommentPivot:function i(j,k,l,m,n,o){c('UFIUserActions').addMessage(k.ftentidentifier,l.visibleValue,l.encodedValue,{source:k.source,ufiinstanceid:k.instanceid,target:m,attachedphoto:l.attachedPhoto,attachedvideo:l.attachedVideo,attachedsticker:l.attachedSticker,timestamp:o,attachedshareurl:l.attachedShareURL},n);c('UFIFeedbackTargets').getFeedbackTarget(k.ftentidentifier,function(p){if(j)c('Arbiter').inform(c('UFIUIEvents').CommentPivot,{ft_id:p.entidentifier,target:m,form:j});})}};f.exports=h}),null);
__d('FacecastStreamingCommentDelayTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:FacecastStreamingCommentDelayLoggerConfig',this.$FacecastStreamingCommentDelayTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:FacecastStreamingCommentDelayLoggerConfig',this.$FacecastStreamingCommentDelayTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$FacecastStreamingCommentDelayTypedLogger1={};return this};h.prototype.updateData=function(j){this.$FacecastStreamingCommentDelayTypedLogger1=babelHelpers['extends']({},this.$FacecastStreamingCommentDelayTypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.appversion=j;return this};h.prototype.setClientUserID=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.client_userid=j;return this};h.prototype.setCommentID=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.comment_id=j;return this};h.prototype.setEvent=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.event=j;return this};h.prototype.setProtocol=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.protocol=j;return this};h.prototype.setVC=function(j){this.$FacecastStreamingCommentDelayTypedLogger1.vc=j;return this};var i={appid:true,appversion:true,client_userid:true,comment_id:true,event:true,protocol:true,vc:true};f.exports=h}),null);
__d('UFISubscriptionUpdates',['fbt','BanzaiODS','FacecastStreamingCommentDelayTypedLogger','ImmutableObject','LiveWWWFeedbackTypedLogger','UFICentralUpdates','UFIComments','UFIConfig','UFIConstants','UFIReactionsUtils','UFISharedDispatcher','UFIStoryAction','UFIStreamingStateType','requireWeak'],(function a(b,c,d,e,f,g,h){'use strict';c('BanzaiODS').setEntitySample('feedback',.0001);function i(k,l,m){new (c('LiveWWWFeedbackTypedLogger'))().setMechanism('graphql_subscriptions').setEvent('receive_payload').setUpdateType(k).setTimeSinceSub(l).updateData(m?m:{}).log()}var j={handleLiveLike:function k(l,m,n){c('BanzaiODS').bumpEntityKey('feedback','gql_like_received');i('like',n);if(!m||!m.feedback_like_subscribe)return;var o=m.feedback_like_subscribe.feedback,p=m.feedback_like_subscribe.liker;if(!o||!p)return;var q=[{actiontype:c('UFIConstants').UFIActionType.LIKE_ACTION,actorid:p.id,clientid:m.feedback_like_subscribe.client_mutation_id,entidentifier:l,likesentences:{current:o.does_viewer_like?o.viewer_likes_sentence:o.viewer_does_not_like_sentence,alternate:o.does_viewer_like?o.viewer_does_not_like_sentence:o.viewer_likes_sentence},hasviewerliked:o.does_viewer_like,likecount:o.likers.count}],r=o.reactions_summary;if(r){var s=c('UFIReactionsUtils').getReactionCountMapFromSummary(o.reactions_summary),t=o.viewer_feedback_reaction_info?o.viewer_feedback_reaction_info.key:0,u=o.reaction_count_reduced?o.reaction_count_reduced:o.reactors.count;q.push({actiontype:c('UFIConstants').UFIActionType.REACTION,actorid:p.id,clientid:m.feedback_like_subscribe.client_mutation_id,entidentifier:l,viewerreaction:t,reactioncount:o.reactors.count,reactioncountreduced:u,reactioncountmap:s,reactionsentences:{current:t?o.viewer_likes_reaction_sentence:o.viewer_does_not_like_reaction_sentence,alternate:t?o.viewer_does_not_like_reaction_sentence:o.viewer_likes_reaction_sentence}})}c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.LIVE_SEND,{actions:q})},handleLiveComment:function k(l,m,n){c('BanzaiODS').bumpEntityKey('feedback','gql_comment_received');var o=m&&m.comment;if(!o)return;i('comment',n,{comment_id:o.legacy_token});var p=this.prepareCommentData(l,o,n,m.client_mutation_id);c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.LIVE_SEND,{comments:[p]})},handleLiveStreamingComment:function k(l,m,n,o){c('BanzaiODS').bumpEntityKey('feedback','gql_streaming_comment_received');var p=m&&m.comment;if(!p)return;i('comment',n,{comment_id:p.legacy_token});if(o)new (c('FacecastStreamingCommentDelayTypedLogger'))().setCommentID(p.legacy_fbid).setEvent('push').log();var q=this.prepareCommentData(l,p,n,m.client_mutation_id);c('requireWeak')('UFILiveStreamingComments',function(r){r.enqueueSubscribedComment(l,{comments:[q],streamingstate:c('UFIStreamingStateType').LIVE,priority:p.live_streaming_comment_priority},m.feedback.top_level_comments.total_count)})},prepareCommentData:function k(l,m,n,o){var p={__typename:'saved',author:m.author.id,body:m.body,cancomment:m.feedback.can_viewer_comment,canedit:m.can_viewer_edit,canremove:m.can_viewer_delete,canshare:m.can_viewer_share,commentshareuri:m.www_share_uri_raw,clientid:o,ftentidentifier:l,id:m.legacy_token,fbid:m.legacy_fbid,legacyid:m.legacy_fbid,timestamp:{time:m.created_time,text:h._("\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27")},hasviewerliked:m.feedback.does_viewer_like,isauthorbot:m.isauthorbot,isauthornoncoworker:m.is_author_non_coworker,isfeatured:m.is_featured,istranslatable:m.translation_available_for_viewer,likecount:m.feedback.likers.count,viewercanlike:m.feedback.can_viewer_like,parentcommentid:m.comment_parent&&m.comment_parent.legacy_token,spamreplycount:0,hasConstituentBadge:m.has_constituent_badge};if(m.attachments.length){var q=m.attachments[0],r=q.style_list;if(r&&r.length){var s=r[0];if(s=='sticker'){var t=q.target;p.attachment={fbid:t.id,metadata:{source_uri:t.img.uri,source_uri_2x:t.img_2x.uri,width:t.img.width,height:t.img.height,frameCount:t.frame_count,frameRate:t.frame_rate,framesPerCol:t.frames_per_column,framesPerRow:t.frames_per_row,sprite_uri:t.sprite_img&&t.sprite_img.uri,sprite_uri_2x:t.sprite_img_2x&&t.sprite_img_2x.uri},type:'sticker'}}else if(s=='photo'){var u=q.target;p.attachment={fbid:u.id,metadata:{preview_uri:u.photo_img&&u.photo_img.uri,width:u.photo_img.width,height:u.photo_img.height,url:u.url},type:'photo'}}else if(s=='share'||s=='image_share'){q.type='live_share';p.attachment=q}else if(s=='animated_image_share'||s=='animated_image_autoplay'||s=='animated_image_video'||s=='animated_image_video_autoplay'){q.type='gif';p.attachment=q}else if(s=='video_inline'){q.type='video';p.attachment=q}else if(s=='comment_place_info'){q.type='live_comment_place_info';p.attachment=q}else if(s=='donation'){q.type='donation';p.attachment=q}}}var v=m.feedback;if(v.reactions_summary){p.canviewerreact=v.can_viewer_react;p.reactioncount=v.reactors.count;p.reactioncountmap=c('UFIReactionsUtils').getReactionCountMapFromSummary(v.reactions_summary);p.reactioncountreduced=v.reaction_count_reduced?v.reaction_count_reduced:v.reactors.count;p.viewerreaction=v.viewer_feedback_reaction_info?v.viewer_feedback_reaction_info.key:0}return p},handleLivePinnedComment:function k(l,m,n){var o=m.pinned_comment_event_create_subscribe.pinned_comment_event.pinned_comment;if(o){var p=j.prepareCommentData(l.ftentidentifier,o,n,m.client_mutation_id);c('UFIComments').setComment(p.id,new (c('ImmutableObject'))(p));c('UFISharedDispatcher').dispatch(c('UFIStoryAction').pinComment(l,p.id))}else c('UFISharedDispatcher').dispatch(c('UFIStoryAction').unpinComment(l));},handleLiveCommentLike:function k(l,m,n){i('comment_like',n);var o=m&&m.comment_like_subscribe&&m.comment_like_subscribe.feedback;if(!o)return;var p=null;if(o.reactions_summary)p={reactioncount:o.reactors.count,reactioncountmap:c('UFIReactionsUtils').getReactionCountMapFromSummary(o.reactions_summary),reactioncountreduced:o.reaction_count_reduced?o.reaction_count_reduced:o.reactors.count,viewerreaction:o.viewer_feedback_reaction_info?o.viewer_feedback_reaction_info.key:0};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.LIVE_SEND,{actions:[{actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,clientid:m.comment_like_subscribe.client_mutation_id,commentid:o.legacy_comment_token,likecount:o.likers&&o.likers.count,reactiondata:p,viewerliked:o.does_viewer_like}]})}};f.exports=j}),null);
__d('UFICallbackStore',['FluxStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;j.prototype.__onDispatch=function(k){var l=k.type,m=babelHelpers.objectWithoutProperties(k,['type']);this.__emitter.emit(l,m)};j.prototype.on=function(k,l){return this.__emitter.addListener(k,l)};j.prototype.remove=function(){this.__emitter.removeAllListeners()};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('FocusRelocator.react',['csx','CSS','Focus','React','getActiveElement'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.componentWillReceiveProps=function(l){var m=this.props,n=m.from,o=m.to,p=l.from,q=l.to;if(p&&q&&(n!==p||o!==q)){this.$FocusRelocator1&&this.$FocusRelocator1.remove();this.$FocusRelocator1=c('Focus').relocate(p,q)}};k.prototype.componentDidUpdate=function(){this.$FocusRelocator2()};k.prototype.componentWillUnmount=function(){this.$FocusRelocator1&&this.$FocusRelocator1.remove();this.$FocusRelocator1=null};k.prototype.render=function(){return this.props.children};k.prototype.$FocusRelocator3=function(){var l=this.props,m=l.from,n=l.to;if(m&&n){c('Focus').performRelocation(m,n,c('getActiveElement')()===this.props.from);this.$FocusRelocator2()}};k.prototype.$FocusRelocator2=function(){setTimeout(function(){if(this.props.to&&c('getActiveElement')()===this.props.from&&!c('CSS').matchesSelector(this.props.to,"._16jm"))this.$FocusRelocator3();}.bind(this),0)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('SeeMore.react',['cx','fbt','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={isCollapsed:true},this.handleClick=function(r){if(this.props.clickCallback!==null)this.props.clickCallback(r);this.setState({isCollapsed:false})}.bind(this),n}l.prototype.render=function(){'use strict';var m=this.state.isCollapsed,n=this.props.exposeTextInHtml,o=null;if(m){var p=null;if(this.props.allowSeeMoreLinebreak)p=c('React').createElement('span',{className:"_1ipe",role:'hidden'},' ');o=c('React').createElement('span',{className:"_5uzb"},i._("..."),p)}var q=this.props.children[0],r=null;if(m){if(n)r=c('React').createElement('span',{className:"_1x3s"},this.props.children[1]);}else r=c('React').createElement('span',null,this.props.children[1]);var s=m?c('React').createElement('a',{className:"_5v47 fss",onClick:this.handleClick,href:'#',role:'button'},i._("\u0e14\u0e39\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21")):null;return c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_1n4g")},q,o,s,r)};l.defaultProps={clickCallback:null,exposeTextInHtml:false,allowSeeMoreLinebreak:false};f.exports=l}),null);
__d('findSplitPointForText',[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=null,m=i.split('\n');if(j&&i.length>j)l=j;if(k&&m.length>k){var n=m.slice(0,k).join('\n').length;if(l!==null){l=Math.min(n,l)}else l=n;}return l}f.exports=h}),null);
__d('partitionTextAndRanges',['UnicodeUtils'],(function a(b,c,d,e,f,g){function h(k,l){var m=k.offset+k.length;return l>k.offset&&l<m}function i(k,l){for(var m=0;m<k.length;m++){var n=k[m];if(h(n,l))return n.offset;}return l}var j=function k(l,m,n){var o=[],p=[],q=i(m,n);for(var r=0;r<m.length;r++){var s=m[r];if(s.offset<q){o.push(s)}else p.push(babelHelpers['extends']({},s,{offset:s.offset-q}));}return {before:{ranges:o,text:c('UnicodeUtils').substr(l,0,q)},after:{ranges:p,text:c('UnicodeUtils').substr(l,q)}}};f.exports=j}),null);
__d('TruncatedTextWithEntities.react',['fbt','React','SeeMore.react','TextWithEntities.react','findSplitPointForText','partitionTextAndRanges'],(function a(b,c,d,e,f,g,h){var i,j,k=30;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$TruncatedTextWithEntities1=function(r){if(!this.props.allowSeeMoreLinebreakOnLongWords||!r)return false;if(r.length<=k)return false;var s=/(^|\s)(\S+)$/,t=s.exec(r),u=t?t[2]:null;return !!(u&&u.length>k)}.bind(this),n}l.prototype.render=function(){'use strict';var m=this.props.text||'',n=this.props.ranges||[];m=m.replace(/\s*$/,'');var o=this.props.maxLines,p=this.props.maxLength;if(p&&m.length>p){var q=this.props.truncationPercent||.6;p=Math.floor(q*p)}var r=null;if(!this.props.shouldExpand)r=c('findSplitPointForText')(m,p,o);if(r!==null){while(m[r-1]==='\n')r--;var s=c('partitionTextAndRanges')(m,n,r),t=c('React').createElement(c('TextWithEntities.react'),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:s.before.ranges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:s.before.text});if(!this.props.showSeeMore)return c('React').createElement('span',{className:this.props.className,'data-ft':this.props['data-ft'],dir:this.props.dir,lang:this.props.lang},t,c('React').createElement('span',null,h._("...")));var u=this.$TruncatedTextWithEntities1(s.before.text);return c('React').createElement('span',{'data-ft':this.props['data-ft'],dir:this.props.dir,lang:this.props.lang},c('React').createElement(c('SeeMore.react'),{allowSeeMoreLinebreak:u,className:this.props.className,clickCallback:this.props.markViewerHasInteracted},t,c('React').createElement(c('TextWithEntities.react'),{aggregatedRanges:this.props.aggregatedRanges,interpolator:this.props.interpolator,ranges:s.after.ranges,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:s.after.text})))}else return c('React').createElement('span',{'data-ft':this.props['data-ft'],dir:this.props.dir,lang:this.props.lang},c('React').createElement(c('TextWithEntities.react'),{aggregatedRanges:this.props.aggregatedRanges,className:this.props.className,imageRanges:this.props.imageRanges,interpolator:this.props.interpolator,ranges:n,textDelightRanges:this.props.textDelightRanges,renderEmoji:this.props.renderEmoji,renderEmoticons:this.props.renderEmoticons,text:m}));};l.defaultProps={showSeeMore:true};f.exports=l}),null);
__d('UFIActorIconContainer.react',['cx','Image.react','React','ShortProfiles','UFIBusinessActorIcon.react','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').createElement(c('XUISpinner.react'),{size:'large'});i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={actor:null},n}l.prototype.componentWillMount=function(){this.$UFIActorIconContainer1()};l.prototype.componentDidUpdate=function(m){if(this.props.actorID!==m.actorID)this.$UFIActorIconContainer1();};l.prototype.$UFIActorIconContainer1=function(){c('ShortProfiles').get(this.props.actorID,function(m){return this.setState({actor:m})}.bind(this))};l.prototype.render=function(){var m=this.state.actor;if(!m)return k;var n=this.props.smallIcon?c('joinClasses')("img UFIActorImage _3qxe",this.props.className):c('joinClasses')("img UFIActorImage _54ru",this.props.className);return m.isBusinessPersona?c('React').createElement(c('UFIBusinessActorIcon.react'),{classNames:n,firstName:m.firstName,lastName:m.lastName,textClassNames:"UFIBusinessActorIconText"}):c('React').createElement(c('Image.react'),{alt:m.name,className:n,src:m.thumbSrc})};f.exports=l}),null);
__d('ClipboardPhotoUploader',['ArbiterMixin','AsyncRequest','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.uploadURIString=k;this.data=l}j.prototype.handlePaste=function(event){'use strict';var k=j.getImages(event);for(var l=0;l<k.length;++l){var m=new FormData();m.append('pasted_file',k[l]);var n=new (c('AsyncRequest'))();n.setURI(this.uploadURIString).setData(this.data).setRawData(m).setHandler(function(o){this.inform('upload_success',o)}.bind(this)).setErrorHandler(function(o){this.inform('upload_error',o)}.bind(this)).setAbortHandler(function(o){this.inform('upload_error',o)}.bind(this));this.inform('upload_start');n.send();break}};j.getImages=function(event){'use strict';if(!event.clipboardData)return [];var k=event.clipboardData.items;if(!k)return [];var l,m=[];for(var n=0;n<k.length;++n){l=k[n];if(l.kind==='string')return [];if(l.kind==='file'&&l.type.indexOf('image/')!==-1)m.push(l.getAsFile());if(l.kind==='blob')m.push(l.blob);}return m};f.exports=j}),null);
__d('EmojiInputButton.react',['fbt','Bootloader','FocusRelocator.react','Link.react','React','createCancelableFunction','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=null;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$EmojiInputButton4=function(event){event.preventDefault();event.stopPropagation();this.props.onClick&&this.props.onClick();this.setState({locked:false,visible:!this.state.locked?!this.state.visible:false})}.bind(this);this.$EmojiInputButton5=function(event){this.setState({locked:this.state.visible})}.bind(this);this.$EmojiInputButton7=function(n){if(!n)this.setState({visible:false,isVariationsShown:false});}.bind(this);this.$EmojiInputButton8=function(n){this.setState({isVariationsShown:n})}.bind(this);this.state={locked:false,visible:false,isVariationsShown:false}}l.prototype.componentWillUnmount=function(){this.$EmojiInputButton1&&this.$EmojiInputButton1.cancel();this.$EmojiInputButton1=null};l.prototype.render=function(){var m=h._("\u0e43\u0e2a\u0e48\u0e2d\u0e35\u0e42\u0e21\u0e08\u0e34"),n=this.state.visible?c('joinClasses')(this.props.iconActiveClassName,this.props.iconClassName):this.props.iconClassName;return c('React').createElement(c('FocusRelocator.react'),{from:this.$EmojiInputButton3,to:this.$EmojiInputButton2},c('React').createElement(c('Link.react'),{'aria-label':m,className:this.props.buttonClassName,'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-content':!this.state.visible?m:null,onClick:this.$EmojiInputButton4,onDragStart:function o(p){return p.preventDefault()},onMouseDown:this.$EmojiInputButton5,linkRef:function(o){return this.$EmojiInputButton3=o}.bind(this),role:'button'},c('React').createElement('div',{className:n,ref:function(o){return this.$EmojiInputButton2=o}.bind(this)}),this.$EmojiInputButton6()))};l.prototype.$EmojiInputButton6=function(){if(!k){if(this.state.visible){this.$EmojiInputButton1=c('createCancelableFunction')(function(){this.forceUpdate()}.bind(this));c('Bootloader').loadModules(["EmojiPicker.react"],function(m){k=m;if(this.$EmojiInputButton1){this.$EmojiInputButton1();this.$EmojiInputButton1=null}}.bind(this),'EmojiInputButton.react')}return null}return c('React').createElement(k,{context:this.$EmojiInputButton3,isVariationsShown:this.state.isVariationsShown,onToggle:this.$EmojiInputButton7,onSelect:this.props.onSelect,onVariationsShown:this.$EmojiInputButton8,shown:this.state.visible})};f.exports=l}),null);
__d("MentionsInputUtils",[],(function a(b,c,d,e,f,g){var h={generateDataFromTextWithEntities:function i(j){var k=j.text,l=[];(j.ranges||[]).forEach(function(n){var o=n.entity;if(!o.external&&!n.videoTimestamp&&!n.sphericalViewport&&!/\D/.test(o.id))l.push({uid:o.id,text:k.substr(n.offset,n.length),offset:n.offset,length:n.length,weakreference:!!o.weakreference});});var m={value:k,mentions:l};return m}};f.exports=h}),null);
__d('SnowflakePermalinkUtils',['URI'],(function a(b,c,d,e,f,g){var h=/\/[^/]+\/(albums\/([^/]+)|posts\/([a-zA-Z]+[^/]+))\/([^/]+\/)?/,i=/\/[^/]+\/(albums|posts)\/([^/]+)\/([^/]+\/)?/,j={isPermalinkURI:function k(l){l=new (c('URI'))(l);return h.test(l.getPath())}};f.exports=j}),null);
__d('TextDelightEvents',['Bootloader','EventEmitter','EventEmitterWithHolding','EventHolder'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('EventEmitter'))(),i=new (c('EventEmitterWithHolding'))(h,new (c('EventHolder'))());function j(){c('Bootloader').loadModules(["TextDelightController"],function(l){return l.init()},'TextDelightEvents')}var k={emitScrapablePost:function l(m){j();i.emit('potential_delight_in_post',{text:m})},emitScrapableComment:function l(m){j();i.emit('potential_delight_in_comment',{text:m})},addListener:function l(event,m){i.once(event,m)}};f.exports=k}),null);
__d('AbstractCommentLiveTypingController',['destroyOnUnload','ex'],(function a(b,c,d,e,f,g){'use strict';var h={START:'start',STOP:'stop'},i=10*1000;function j(k,l,m){this.$AbstractCommentLiveTypingController5=k;this.$AbstractCommentLiveTypingController6=l;this.$AbstractCommentLiveTypingController7=m;this.$AbstractCommentLiveTypingController1=null;this.$AbstractCommentLiveTypingController2=false;this.$AbstractCommentLiveTypingController3=0;this.$AbstractCommentLiveTypingController4=null;c('destroyOnUnload')(this.destroy.bind(this))}j.prototype.destroy=function(){this.$AbstractCommentLiveTypingController1&&this.$AbstractCommentLiveTypingController1.destroy();this.$AbstractCommentLiveTypingController1=null;this.$AbstractCommentLiveTypingController2=false;this.$AbstractCommentLiveTypingController3=0;this.$AbstractCommentLiveTypingController4=null};j.prototype.bootloadPublisherModule=function(k){throw new Error(c('ex')('bootloadPublisherModule not implemented, '+'should be overridden by subclass'))};j.prototype.$AbstractCommentLiveTypingController8=function(k){var l=new k(this.$AbstractCommentLiveTypingController5,this.$AbstractCommentLiveTypingController6,this.$AbstractCommentLiveTypingController7),m=Date.now(),n=this.$AbstractCommentLiveTypingController3;if(n&&n+i>=m){var o=this.$AbstractCommentLiveTypingController4;if(o===h.START){l.handleStartEvent()}else if(o===h.STOP)l.handleStopEvent();}this.$AbstractCommentLiveTypingController1=l};j.prototype.$AbstractCommentLiveTypingController9=function(){if(this.$AbstractCommentLiveTypingController2||!this.$AbstractCommentLiveTypingController5)return;this.$AbstractCommentLiveTypingController2=true;this.bootloadPublisherModule(this.$AbstractCommentLiveTypingController8.bind(this))};j.prototype.attemptPublishStartEvent=function(){this.$AbstractCommentLiveTypingController4=h.START;this.$AbstractCommentLiveTypingController3=Date.now();if(this.$AbstractCommentLiveTypingController1){this.$AbstractCommentLiveTypingController1.handleStartEvent()}else if(!this.$AbstractCommentLiveTypingController2)this.$AbstractCommentLiveTypingController9();};j.prototype.attemptPublishStopEvent=function(){this.$AbstractCommentLiveTypingController4=h.STOP;this.$AbstractCommentLiveTypingController3=Date.now();if(this.$AbstractCommentLiveTypingController1){this.$AbstractCommentLiveTypingController1.handleStopEvent()}else if(!this.$AbstractCommentLiveTypingController2)this.$AbstractCommentLiveTypingController9();};f.exports=j}),null);
__d('UFIAddCommentLiveTypingController',['AbstractCommentLiveTypingController','Bootloader'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AbstractCommentLiveTypingController'));i=h&&h.prototype;function j(k,l,m){i.constructor.call(this,k,l,m)}j.prototype.bootloadPublisherModule=function(k){c('Bootloader').loadModules(["UFIAddCommentLiveTypingPublisher"],k,'UFIAddCommentLiveTypingController')};j.prototype.attemptPublishStartEvent=function(){i.attemptPublishStartEvent.call(this)};j.prototype.attemptPublishStopEvent=function(){i.attemptPublishStopEvent.call(this)};f.exports=j}),null);
__d('UFIAttachMediaSection.react',['cx','fbt','Bootloader','Focus','React','UFICommentFileInputAcceptValues','XUIError.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={bootloaded:false,hasUploadFailure:false},this.$UFIAttachMediaSection1=null,this.$UFIAttachMediaSection2=function(){this.setState({hasUploadFailure:false})}.bind(this),this.$UFIAttachMediaSection3=function(){this.setState({hasUploadFailure:false})}.bind(this),this.$UFIAttachMediaSection4=function(){this.setState({hasUploadFailure:true})}.bind(this),this.$UFIAttachMediaSection5=function(event){this.props.onClick&&this.props.onClick();if(this.state.bootloaded)return;c('Bootloader').loadModules(["UFIUploader"],function(s){this.$UFIAttachMediaSection1=new s(this.refs.inputContainer,this.refs.inputControl,this.refs.input,this.props.getPhotoUploadData,this.props.prepareForAttachedPhotoPreview,this.props.prepareForAttachedVideoPreview,this.props.onPhotoUploadComplete,this.props.onVideoEncodeUpdate,this.props.onVideoUploadUpdate,this.props.onVideoUploadComplete,this.props.setFileInput,this.props.viewerActorID,this.$UFIAttachMediaSection2,this.$UFIAttachMediaSection3,this.$UFIAttachMediaSection4)}.bind(this),'UFIAttachMediaSection.react');this.setState({bootloaded:true})}.bind(this),o}m.prototype.componentDidMount=function(){var n=this.refs,o=n.input,p=n.inputControl;if(o&&p)c('Focus').relocate(o,p);};m.prototype.componentWillUnmount=function(){this.$UFIAttachMediaSection1&&this.$UFIAttachMediaSection1.destroy()};m.prototype.render=function(){var n=this.props.allowVideoAttachments?i._("\u0e41\u0e19\u0e1a\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e\u0e2b\u0e23\u0e37\u0e2d\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d"):i._("\u0e41\u0e19\u0e1a\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e"),o=i._("\u0e40\u0e01\u0e34\u0e14\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e43\u0e19\u0e01\u0e32\u0e23\u0e41\u0e19\u0e1a\u0e44\u0e1f\u0e25\u0e4c \u0e01\u0e23\u0e38\u0e13\u0e32\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07"),p=this.state.hasUploadFailure,q=c('React').createElement('div',{className:"_r1a"+(' '+"UFIPhotoAttachLinkWrapper")+(' '+"_m")+(!!this.props.attachment?' '+"_5t1p":''),'data-hover':p?null:'tooltip','data-tooltip-alignh':p?null:'center','data-tooltip-content':p?null:n,onClick:this.$UFIAttachMediaSection5,ref:'inputContainer',role:'presentation'},c('React').createElement('span',{className:"UFICommentPhotoIcon",ref:'inputControl'},c('React').createElement('input',{accept:this.props.allowVideoAttachments?c('UFICommentFileInputAcceptValues').both:c('UFICommentFileInputAcceptValues').photos,'aria-label':n,className:"_n",name:'file',ref:'input',title:n,type:'file',key:'0'})));return c('React').createElement(c('XUIError.react'),{xuiError:p?o:null,xuiErrorPosition:'above',xuiErrorAlignh:'center'},q)};m.propTypes={getPhotoUploadData:l.func.isRequired,prepareForAttachedPhotoPreview:l.func.isRequired,prepareForAttachedVideoPreview:l.func,onPhotoUploadComplete:l.func.isRequired,onVideoUploadComplete:l.func,onVideoUploadUpdate:l.func,onVideoEncodeUpdate:l.func,onClick:l.func,setFileInput:l.func.isRequired,targetId:l.string,allowVideoAttachments:l.bool,attachment:l.object,viewerActorID:l.string.isRequired};f.exports=m}),null);
__d("XFeedNUXSaveSeenStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/feed\/nux\/seen\/save\/",{link_id:{type:"String"},key:{type:"String",required:true},seen:{type:"Bool",defaultValue:false},env:{type:"Enum",enumType:0}})}),null);
__d('UFICommentingAsConstituentHeader.react',['cx','fbt','AsyncRequest','BootloadedComponent.react','Layout.react','Image.react','JSResource','React','UFIConfig','XFeedNUXSaveSeenStateController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={hasSeenCommentingAsConstituentNUX:false,commentingAsConstituentNUXVisible:true},this.$UFICommentingAsConstituentHeader2=function(){this.setState({commentingAsConstituentNUXVisible:false,hasSeenCommentingAsConstituentNUX:true});var t=c('XFeedNUXSaveSeenStateController').getURIBuilder().setString('key','commenting_as_constituent').setBool('seen',true).getURI();new (c('AsyncRequest'))(t).send()}.bind(this),p}n.prototype.render=function(){if(!this.props.uri)return null;var o=null;if(c('UFIConfig').shouldShowCommentingAsConstituentNUX)if(!this.state.hasSeenCommentingAsConstituentNUX)o=this.$UFICommentingAsConstituentHeader1();return c('React').createElement('div',{className:"_2ys2 uiContextualLayerParent"},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement(c('Image.react'),{src:'/images/civic_engagement/constituent_badges/'+'constituent-badge_12_2x.png',className:"_2ys1"}),i._("\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e43\u0e19\u0e10\u0e32\u0e19\u0e30\u0e1c\u0e39\u0e49\u0e21\u0e35\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e15\u0e31\u0e49\u0e07")),c('React').createElement(l,null,c('React').createElement('a',{className:"_2ys3",href:this.props.uri,ref:'constituent_header_manage_button'},i._("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23")))),o)};n.prototype.$UFICommentingAsConstituentHeader1=function(){return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('XUIAmbientNUX.react').__setRef('UFICommentingAsConstituentHeader.react'),bootloadPlaceholder:c('React').createElement('div',null),contextRef:function(){return this.refs.constituent_header_manage_button}.bind(this),shown:this.state.commentingAsConstituentNUXVisible,position:'above',alignment:'right',width:'custom',customwidth:280,onCloseButtonClick:this.$UFICommentingAsConstituentHeader2},c('React').createElement('div',{className:"_3w4h"},i._("\u0e41\u0e16\u0e1a\u0e1b\u0e49\u0e32\u0e22\u0e1c\u0e39\u0e49\u0e21\u0e35\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e15\u0e31\u0e49\u0e07\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e40\u0e1b\u0e34\u0e14\u0e2d\u0e22\u0e39\u0e48")),c('React').createElement('div',{className:"_2e59"},i._("\u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e1b\u0e34\u0e14\u0e2b\u0e23\u0e37\u0e2d\u0e1b\u0e34\u0e14\u0e41\u0e16\u0e1a\u0e1b\u0e49\u0e32\u0e22\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e17\u0e38\u0e01\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e43\u0e19\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e17\u0e32\u0e27\u0e19\u0e4c\u0e2e\u0e2d\u0e25\u0e25\u0e4c")))};f.exports=n}),null);
__d('UFIGifButton.react',['cx','fbt','Arbiter','Bootloader','FocusRelocator.react','LayerTabIsolation','Link.react','MessengerPlatformInterfaceType','React','ReactLayeredComponentMixin_DEPRECATED','classWithMixins','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=278;j=babelHelpers.inherits(m,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactLayeredComponentMixin_DEPRECATED'))));k=j&&j.prototype;function m(){k.constructor.call(this);this.$UFIGifButton4=function(){this.setState({flyoutShown:false,query:''})}.bind(this);this.$UFIGifButton7=function(){this.$UFIGifButton3=this.state.flyoutShown}.bind(this);this.$UFIGifButton6=function(){if(this.state.renderFlyout!==null){if(!this.$UFIGifButton3){this.props.onGifFlyoutShow&&this.props.onGifFlyoutShow();this.setState({flyoutShown:true})}return}c('Bootloader').loadModules(["XUIContextualDialog.react","ChatContentSearchFlyout.react","ContextualLayerAutoFlip"],function(n,o,p){this.setState({flyoutShown:true,renderFlyout:function(){return {contextualDialog:c('React').createElement(n,{alignment:'right',behaviors:{flip:p,LayerTabIsolation:c('LayerTabIsolation')},className:"_5trk",contextRef:function(){return this.$UFIGifButton1}.bind(this),onBlur:this.$UFIGifButton4,onToggle:function(q){if(!q&&this.state.flyoutShown)this.$UFIGifButton4();}.bind(this),position:'above',shown:this.state.flyoutShown,hasActionableContext:true,width:l},c('React').createElement('div',null,c('React').createElement(o,{onEscKeyDown:this.$UFIGifButton4,onSelect:this.$UFIGifButton8,query:this.state.query,shown:this.state.flyoutShown,searchInterface:c('MessengerPlatformInterfaceType').FB_INTERFACE})))}}.bind(this)});this.props.onGifFlyoutShow&&this.props.onGifFlyoutShow()}.bind(this),'UFIGifButton.react')}.bind(this);this.$UFIGifButton8=function(n){this.props.onGifSelected(n);this.$UFIGifButton4()}.bind(this);this.$UFIGifButton5=function(n){this.$UFIGifButton1=n}.bind(this);this.state={renderFlyout:null,flyoutShown:false,query:''}}m.prototype.componentDidMount=function(){this.$UFIGifButton2=c('Arbiter').subscribe('page_transition',function(){return this.$UFIGifButton4()}.bind(this))};m.prototype.componentWillUnmount=function(){this.$UFIGifButton2&&this.$UFIGifButton2.unsubscribe()};m.prototype.render=function(){var n=i._("\u0e42\u0e1e\u0e2a\u0e15\u0e4c GIF");return c('React').createElement(c('FocusRelocator.react'),{from:this.$UFIGifButton1,to:this.refs.icon},c('React').createElement(c('Link.react'),{'aria-label':n,className:"_r1a UFICommentGifButton",'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-content':this.props.showTooltip?n:null,linkRef:this.$UFIGifButton5,onClick:this.$UFIGifButton6,onMouseDown:this.$UFIGifButton7,role:'button'},c('React').createElement('div',{ref:'icon',className:"UFICommentGifIcon"+(this.state.flyoutShown?' '+"UFICommentGifIconActive":'')}),this.props.children))};m.prototype.renderLayers=function(){return !this.state.renderFlyout||!this.state.flyoutShown?{}:this.state.renderFlyout()};m.defaultProps={showTooltip:true};f.exports=m}),null);
__d('UFIMarkdownButton.react',['cx','fbt','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("\u0e08\u0e31\u0e14\u0e23\u0e39\u0e1b\u0e41\u0e1a\u0e1a\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e14\u0e49\u0e27\u0e22\u0e21\u0e32\u0e23\u0e4c\u0e01\u0e14\u0e32\u0e27\u0e19\u0e4c");return c('React').createElement(c('Link.react'),{className:"_r1a _45-m",'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-content':m,'aria-label':m,onClick:this.props.onClick},c('React').createElement('div',{tabIndex:0,className:"_45-n"+(this.props.active?' '+"_45-o":'')}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('UFITipJarButton.react',['cx','fbt','Bootloader','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$UFITipJarButton1=function(){c('Bootloader').loadModules(["PhotoSnowlift","VideoChannel","LiveSendTipButtonUtil"],function(n,o,p){var q=n.getInstance(),r=o.get();if(q.fullscreen||q.isOpen||r){p.openPanel(!!r,this.props.videoID,this.props.receiverID)}else p.bootloadSnowliftWithPanelOpen(this.props.permalink);}.bind(this),'UFITipJarButton.react')}.bind(this);this.$UFITipJarButton1=this.$UFITipJarButton1.bind(this)}l.prototype.render=function(){var m=i._("Send a Tip");return c('React').createElement(c('Link.react'),{className:"_r1a _qqp",'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-content':m,'aria-label':m,onClick:this.$UFITipJarButton1},c('React').createElement('div',{className:"_qqq",ref:'tipJar',tabIndex:0}))};f.exports=l}),null);
__d("XUFICommentGIFPreprocessController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/gif_preprocess\/",{})}),null);
__d("XUFICommentMarkdownPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/markdown_preview\/",{comment_body:{type:"String"}})}),null);
__d('UFIAddComment.react',['cx','fbt','invariant','ActorURI','Arbiter','AsyncRequest','Badge.react','BootloadedComponent.react','Bootloader','ClipboardPhotoUploader','EmojiInputButton.react','Event','JSResource','Keys','Link.react','LitestandStoryInsertionStatus','MentionsInputUtils','MercuryIDs','QE2Logger','React','ReactDOM','Run','ShortProfiles','SnowflakePermalinkUtils','SubscriptionsHandler','SutroStoryHeaderUFIGatingConfig','TextDelightEvents','TrackingNodes','UFIActorIconContainer.react','UFIAddCommentAction','UFIAddCommentLiveTypingController','UFIAttachMediaSection.react','UFICommentingAsConstituentHeader.react','UFICommentMessengerPromptConfig','UFICommercialBreakStore','UFIComposerIsTypingStore','UFIConfig','UFIGifButton.react','UFIImageBlock.react','UFIMarkdownButton.react','UFIPlayLiveVODHighlightsStore','UFISharedDispatcher','UFIStickerButton.react','UFITipJarButton.react','URI','VideoPermalinkURI','XFeedNUXSaveSeenStateController','XUFICommentGIFPreprocessController','XUFICommentMarkdownPreviewController','getActiveElement','joinClasses','throttle'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=b.URL||b.webkitURL||{},n=c('React').PropTypes,o=i._("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19..."),p=i._("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a..."),q=i._("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e04\u0e33\u0e15\u0e2d\u0e1a..."),r="fcg fss UFICommentTip",s=19,t='/ajax/ufi/upload/',u='/ajax/ufi/sticker_preview/',v=1000,w='comment_content_change',x='www_messenger_comment_pivot_universe',y={UPLOAD:'uploading',ENCODE:'encoding'},z=false,aa=false;k=babelHelpers.inherits(ba,c('React').Component);l=k&&k.prototype;function ba(ca){l.constructor.call(this,ca);this.$UFIAddComment10=function(event){if(this.props.isEditing&&c('Event').getKeyCode(event.nativeEvent)===c('Keys').ESC)this.context.dispatch(c('UFIAddCommentAction').cancel(this.props.contextArgs));if(this.$UFIAddComment1&&!this.$UFIAddComment2){c('Run').onBeforeUnload(this.$UFIAddComment11);this.$UFIAddComment2=true}var ha=c('getActiveElement')();if(c('Event').getKeyCode(event.nativeEvent)===c('Keys').ESC)ha.blur();}.bind(this);this.$UFIAddComment12=function(ha){var ia,ja=this;c('UFISharedDispatcher').dispatch(c('UFIAddCommentAction').changeContent(this.props.contextArgs,ha,this.props.replyCommentID));c('Arbiter').inform(w,{fbid:this.props.replyCommentID,text:ha,instanceid:this.props.contextArgs.instanceid,ftentidentifier:this.props.contextArgs.ftentidentifier});c('TextDelightEvents').emitScrapableComment(ha);if(this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled)this.$UFIAddComment13(ha);if(this.props.isTargetPage){(function(){var la=ja.parseTextForMentions(ha);if(la&&la.length==1){c('ShortProfiles').get(la[0].uid,function(ma){if(ma.type=='friend'){c('QE2Logger').logExposureForUser(x);if(c('UFICommentMessengerPromptConfig').show_messenger_prompt)this.$UFIAddComment14(la[0]);}}.bind(ja))}else ja.$UFIAddComment15();})()}else if(this.props.contextArgs.showGroupChatPivot&&c('UFICommentMessengerPromptConfig').show_groups_prompt){var ka=this.parseTextForMentions(ha);if(ka&&ka.length>=1){this.$UFIAddComment16(ka.map(function(la){return la.uid}))}else this.$UFIAddComment17();}}.bind(this);this.$UFIAddComment13=function(ha){var ia=c('XUFICommentMarkdownPreviewController').getURIBuilder().setString('comment_body',ha).getURI();new (c('AsyncRequest'))(ia).setHandler(this.$UFIAddComment18).send()}.bind(this);this.$UFIAddComment18=function(ha){if(!ha)return;this.setState({commentMarkdownPreviewContent:ha.payload?ha.payload.markup:null})}.bind(this);this.$UFIAddComment11=function(){var ha=b.PageTransitions;if(ha){var ia=c('URI').getNextURI(),ja=ha.getMostRecentURI();if(Object.prototype.hasOwnProperty.call(ia.getQueryData(),'theater')||Object.prototype.hasOwnProperty.call(ja.getQueryData(),'theater')||Object.prototype.hasOwnProperty.call(ia.getQueryData(),'sdialog')||c('SnowflakePermalinkUtils').isPermalinkURI(ia)||c('SnowflakePermalinkUtils').isPermalinkURI(ja)||c('VideoPermalinkURI').isValid(ia)&&ia.getQueryData().ref==='channel'||c('VideoPermalinkURI').isValid(ja)&&ja.getQueryData().ref==='channel')return;var ka=b.DialogNavigationStack;if(ka&&ka.isActiveURI(ia))return;}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return i._("\u0e04\u0e38\u0e13\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e2a\u0e34\u0e49\u0e19\u0e01\u0e32\u0e23\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e40\u0e1e\u0e08\u0e19\u0e35\u0e49\u0e17\u0e31\u0e49\u0e07\u0e17\u0e35\u0e48\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e2a\u0e34\u0e49\u0e19\u0e43\u0e0a\u0e48\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48");}.bind(this);this.$UFIAddComment19=function(){this.setState({markdownNUXVisible:false,gifsInCommentsNUXVisible:false});setTimeout(function(){if(this.$UFIAddComment1)this.setState({isFocused:false});}.bind(this),100);if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false})}.bind(this);this.$UFIAddComment20=function(event){var ha=new (c('ClipboardPhotoUploader'))(t,this.$UFIAddComment21());this.$UFIAddComment22();this.$UFIAddComment3=[ha.subscribe('upload_start',this.$UFIAddComment23),ha.subscribe('upload_error',this.$UFIAddComment24),ha.subscribe('upload_success',function(ia,ja){this.$UFIAddComment25(ja)}.bind(this))];ha.handlePaste(event)}.bind(this);this.$UFIAddComment26=function(ha,event){var ia,ja=this,ka;this.setState({hasSubmitted:true});var la=this.state.attachedPhoto||this.state.attachedVideo||this.state.attachedSticker||this.state.attachedGIF,ma=this.props.isEditing||la;if(this.state.messengerTarget&&this.state.messengerTarget.uid){var ia=function(){var na=ja.state.messengerTarget.uid;ja.context.dispatch(c('UFIAddCommentAction').submitCommentPivot(ja.props.contextArgs,ha,event.target,na));c('Bootloader').loadModules(["FantaTabActions"],function(oa){oa.openTab(c('MercuryIDs').getThreadIDFromUserID(na))},'UFIAddComment.react');ja.setState({messengerTarget:null});return {v:true}}();if(typeof ia==="object")return ia.v;}if(this.props.contextArgs.showGroupChatPivot){if(this.state.sendAsChat){var ka=function(){var na=ja.state.chatPivotTargets,oa=ja.props,pa=oa.contextArgs,qa=oa.groupID,ra=oa.viewerActorID;c('Bootloader').loadModules(["FantaTabActions","MercurySourceType","XMessengerAssociatedObjectGroupCreateController"],function(sa,ta,ua){if(!qa||!na)return;var va=na.indexOf(ra)===-1?[ra].concat(na):na;if(!ha.encodedValue)return;var wa=ua.getURIBuilder().setString('entry_point','fbgroup_comment_pivot').setString('source',ta.WEB).setString('body',ha.encodedValue).setFBID('group_post_id',pa.ftentidentifier).setFBID('attachment_id',pa.ftentidentifier).setFBID('associated_object_id',qa).setFBIDSet('participant_fbids',va).getURI();new (c('AsyncRequest'))(wa).setHandler(function(xa){var ya=xa.payload;if(ya)sa.openTab(c('MercuryIDs').getThreadIDFromThreadFBID(ya));}).send()},'UFIAddComment.react');ja.context.dispatch(c('UFIAddCommentAction').cancel(ja.props.contextArgs));ja.setState({sendAsChat:false,chatPivotTargets:null});return {v:true}}();if(typeof ka==="object")return ka.v;}this.setState({sendAsChat:false,chatPivotTargets:null})}if(this.state.isLoadingPhoto||this.$UFIAddComment27()){return false}else if((!ha.encodedValue||!ha.encodedValue.trim())&&!ma)return false;ha.encodedValue=ha.encodedValue?ha.encodedValue.trim():'';if(this.state.commentMarkdownEnabled){ha.isMarkdown=true;this.setState({commentMarkdownEnabled:false,commentMarkdownPreviewContent:null})}if(la){ha.attachedPhoto=this.state.attachedPhoto;ha.attachedVideo=this.state.attachedVideo;ha.attachedSticker=this.state.attachedSticker;if(this.state.attachedGIF)if(this.state.attachedGIF.source){ha.attachedShareURL=this.state.attachedGIF.source.url}else if(this.state.attachedGIF.originalImageUrl)ha.attachedShareURL=this.state.attachedGIF.originalImageUrl;this.setState({isLoadingPhoto:false,attachedPhoto:null,attachedVideo:null,attachedSticker:null,attachedGIF:null})}else{ha.attachedPhoto=null;ha.attachedVideo=null;ha.attachedSticker=null;ha.attachedGIF=null;ha.attachedShareURL=null}if(this.props.isEditing){this.context.dispatch(c('UFIAddCommentAction').submitEdit(this.props.contextArgs,this.props.editingComment,ha,event.target))}else this.context.dispatch(c('UFIAddCommentAction').submitNew(this.props.contextArgs,ha,event.target,this.props.replyCommentID));return true}.bind(this);this.focus=function(){var ha={isCommenting:true,isFocused:true,hasSubmitted:false},ia=this.props.contextArgs.loggedOutLinkConfig;if(ia&&ia.showAddComment)c('Bootloader').loadModules(["AsyncDialog"],function(la){la.bootstrap(ia.addCommentAjaxifyURI,null,'dialog')},'UFIAddComment.react');if(this.props.allowGifAttachments&&c('UFIConfig').shouldShowGIFsInCommentsNux)if(!z){z=true;var ja=c('XFeedNUXSaveSeenStateController').getURIBuilder().setString('key','gif_comments').setBool('seen',true).getURI();new (c('AsyncRequest'))(ja).send();ha.gifsInCommentsNUXVisible=true}if(this.props.allowCommentMarkdown&&c('UFIConfig').shouldShowMarkdownCommentNUX&&!c('UFIConfig').shouldShowGIFsInCommentsNux)if(!aa){aa=true;var ka=c('XFeedNUXSaveSeenStateController').getURIBuilder().setString('key','markdown_comments').setBool('seen',true).getURI();new (c('AsyncRequest'))(ka).send();ha.markdownNUXVisible=true}this.setState(ha);if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();if(this.props.onFocus)this.props.onFocus();c('Arbiter').inform('UFIAddComment/focus',{})}.bind(this);this.$UFIAddComment32=function(ha,ia){this.setState({fileInput:ha,fileUploader:ia})}.bind(this);this.$UFIAddComment33=function(){this.setState({messengerTarget:null})}.bind(this);this.$UFIAddComment34=function(ha){return this.setState({sendAsChat:ha})}.bind(this);this.$UFIAddComment21=function(){var ha=this.props.viewerActorID,ia={profile_id:ha,target_id:this.props.targetID,source:s};ia[c('ActorURI').PARAMETER_ACTOR]=ha;return ia}.bind(this);this.$UFIAddComment25=function(ha){if(!this.state.isLoadingPhoto)return;var ia=ha.getPayload();if(ia&&ia.fbid){this.setState({attachedPhoto:ia,isLoadingPhoto:false})}else this.$UFIAddComment24(null);}.bind(this);this.$UFIAddComment38=function(ha,ia){if(!this.state.attachedVideo||this.state.videoStatus!==y.ENCODE)return;if(ia.obj.progress<this.state.videoProgress)return;ia.obj.fbid=ia.obj.videoID;this.setState({attachedVideo:ia.obj,videoProgress:ia.obj.progress,videoStatus:y.ENCODE});if(this.$UFIAddComment42(ia.obj.stage))this.$UFIAddComment43();}.bind(this);this.$UFIAddComment39=function(ha){this.setState({videoProgress:ha})}.bind(this);this.$UFIAddComment37=function(ha){if(this.state.videoStatus!==y.UPLOAD)return;if(ha&&ha.video_id)this.setState({videoProgress:0,attachedVideo:ha,videoStatus:y.ENCODE});}.bind(this);this.$UFIAddComment24=function(event){c('Arbiter').inform('video_upload_cancel',{});if(this.state.fileInput)this.state.fileInput.clear();this.setState({attachedPhoto:null,attachedVideo:null,attachedGIF:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:false,videoProgress:0,isVideoFileTranscodedGIF:false})}.bind(this);this.$UFIAddComment23=function(){this.setState({attachedPhoto:null,isLoadingPhoto:true})}.bind(this);this.$UFIAddComment36=function(){var ha=void 0,ia=this.state.fileInput?this.state.fileInput.input:null,ja=ia?ia.files[0]:null;if(ja&&m.createObjectURL)ha=m.createObjectURL(ja);this.setState({attachedVideo:null,videoStatus:y.UPLOAD,videoFileURL:ha,videoProgress:0,isVideoFileTranscodedGIF:Boolean(ja&&ja.type==='image/gif')})}.bind(this);this.$UFIAddComment44=function(ha){if(!this.state.isLoadingPhoto)return;var ia=ha.getPayload();if(ia&&ia.fbid){this.setState({attachedSticker:ia,isLoadingPhoto:false})}else{c('Bootloader').loadModules(["Dialog"],function(ja){var ka=i._("\u0e41\u0e19\u0e1a\u0e2a\u0e15\u0e34\u0e01\u0e40\u0e01\u0e2d\u0e23\u0e4c\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49"),la=i._("\u0e21\u0e35\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e43\u0e19\u0e01\u0e32\u0e23\u0e41\u0e19\u0e1a\u0e2a\u0e15\u0e34\u0e01\u0e40\u0e01\u0e2d\u0e23\u0e4c");new ja().setTitle(ka).setBody(la).setButtons(ja.OK).show()},'UFIAddComment.react');this.$UFIAddComment40(null)}}.bind(this);this.$UFIAddComment40=function(event){this.setState({attachedSticker:null,isLoadingPhoto:false})}.bind(this);this.onStickerSelected=function(ha,event){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this.$UFIAddComment45(ha);return}this.sendSticker(ha,event)}.bind(this);this.$UFIAddComment35=function(ha){c('Bootloader').loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(ia,ja,ka,la){var ma=ia.symbols[ha];if(!ma)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(ma);return}if(!this.$UFIAddComment9)this.$UFIAddComment9=new la(c('ReactDOM').findDOMNode(this.refs.mentionsinput.refs.textarea));var na=this.refs.mentionsinput.refs.getTextFieldDOM(),oa=ka.getInstance(na),pa=oa.getValue();this.$UFIAddComment9||j(0);var qa=ja.insertEmoticon(ma,pa,this.$UFIAddComment9.getPos());oa.setValue(qa.result);this.$UFIAddComment9||j(0);this.$UFIAddComment9.setPos(qa.start,qa.end)}.bind(this),'UFIAddComment.react')}.bind(this);this.$UFIAddComment31=function(){this.setState({markdownNUXVisible:false})}.bind(this);this.onGifSelected=function(ha){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this.setState({attachedGIF:ha});this.preprocessGIF(ha);return}this.sendGIF(ha)}.bind(this);this.$UFIAddComment1=false;var da=this.props.editingComment,ea=da.attachment,fa=ea?ea.type:null,ga=fa==='photo'?ea:null;this.state={attachedPhoto:da.photo_comment||ga,attachedVideo:da.video_comment||null,attachedSticker:fa=='sticker'?ea:null,attachedGIF:fa=='gif'?ea:null,commentMarkdownPreviewContent:null,commentMarkdownEnabled:false,videoStatus:null,videoFileURL:null,videoProgress:0,isVideoFileTranscodedGIF:false,fileInput:null,fileUploader:null,isCommenting:false,isLoadingPhoto:false,isFocused:Boolean(this.props.isEditing),gifsInCommentsNUXVisible:false,markdownNUXVisible:false,hasSubmitted:false,inCommercialBreak:false,messengerTarget:null,isPlayingLiveVODHighlights:false,chatPivotTargets:null,sendAsChat:false}}ba.prototype.$UFIAddComment14=function(ca){this.setState({messengerTarget:ca})};ba.prototype.$UFIAddComment15=function(){this.setState({messengerTarget:null})};ba.prototype.$UFIAddComment16=function(ca){this.setState({chatPivotTargets:ca})};ba.prototype.$UFIAddComment17=function(){this.setState({chatPivotTargets:null})};ba.prototype.$UFIAddComment27=function(){return this.state.videoStatus===y.UPLOAD||this.state.videoStatus===y.ENCODE&&this.state.videoProgress!==100};ba.prototype.$UFIAddComment22=function(){if(this.$UFIAddComment3)this.$UFIAddComment3.forEach(function(ca){ca.unsubscribe()});};ba.prototype.componentWillMount=function(){this.$UFIAddComment2=false;this.$UFIAddComment6=c('LitestandStoryInsertionStatus').registerBlocker(function(){return this.state.isCommenting}.bind(this));this.$UFIAddComment4&&this.$UFIAddComment4.release();this.$UFIAddComment4=new (c('SubscriptionsHandler'))();this.$UFIAddComment4.addSubscriptions(c('UFICommercialBreakStore').addListener(function(){this.setState({inCommercialBreak:c('UFICommercialBreakStore').getValueFor(this.props.contextArgs.instanceid)})}.bind(this)),c('UFIPlayLiveVODHighlightsStore').addListener(function(){this.setState({isPlayingLiveVODHighlights:c('UFIPlayLiveVODHighlightsStore').getValueFor(this.props.contextArgs.instanceid)})}.bind(this)));this.$UFIAddComment5=null;if(c('UFIConfig').canPublishLive)this.$UFIAddComment4.addSubscriptions(c('UFIComposerIsTypingStore').addListener(function(){var ca=c('UFIComposerIsTypingStore').getValueFor(this.props.contextArgs.ftentidentifier);if(ca===null)return;if(!this.$UFIAddComment5)this.$UFIAddComment5=new (c('UFIAddCommentLiveTypingController'))(this.props.contextArgs.ftentidentifier,this.props.replyCommentID,this.props.viewerActorID);if(ca){this.$UFIAddComment5.attemptPublishStartEvent()}else this.$UFIAddComment5.attemptPublishStopEvent();}.bind(this)));};ba.prototype.$UFIAddComment28=function(){this.$UFIAddComment5&&this.$UFIAddComment5.destroy();this.$UFIAddComment5=null};ba.prototype.componentWillReceiveProps=function(ca){var da=this.props.contextArgs.ftentidentifier,ea=ca.contextArgs.ftentidentifier;if(ea!==da||this.props.replyCommentID!==ca.replyCommentID||this.props.viewerActorID!==ca.viewerActorID)this.$UFIAddComment28();};ba.prototype.componentWillUnmount=function(){this.$UFIAddComment1=false;this.$UFIAddComment22();if(this.$UFIAddComment8)c('Arbiter').unsubscribe(this.$UFIAddComment8);if(this.$UFIAddComment7)c('Arbiter').unsubscribe(this.$UFIAddComment7);this.$UFIAddComment6&&this.$UFIAddComment6.unsubscribe();this.$UFIAddComment6=null;this.$UFIAddComment4&&this.$UFIAddComment4.release();this.$UFIAddComment28()};ba.prototype.$UFIAddComment29=function(){if(this.state.gifsInCommentsNUXVisible)return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('XUIAmbientNUX.react').__setRef('UFIAddComment.react'),bootloadPlaceholder:c('React').createElement('div',null),contextRef:function(){return this.refs.gif_button}.bind(this),shown:this.state.gifsInCommentsNUXVisible,position:'above',width:'auto',alignment:'right'},i._("\u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e1e\u0e34\u0e48\u0e21 GIF \u0e25\u0e07\u0e43\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e44\u0e14\u0e49\u0e41\u0e25\u0e49\u0e27\u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49"));return null};ba.prototype.$UFIAddComment30=function(){if(this.state.markdownNUXVisible)return c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('XUIAmbientNUX.react').__setRef('UFIAddComment.react'),bootloadPlaceholder:c('React').createElement('div',null),contextRef:function(){return this.refs.markdownButton}.bind(this),shown:this.state.markdownNUXVisible,position:'above',width:'auto',alignment:'right',onCloseButtonClick:this.$UFIAddComment31},i._("[FB-Only] Markdown in Comments! Click to enable."));return null};ba.prototype.render=function(){var ca=this.props.contextArgs.loggedOutLinkConfig,da=true;if(ca&&ca.showAddComment)da=false;var ea=(!this.props.contextArgs.collapseaddcomment||this.state.isCommenting)&&da&&!this.props.contextArgs.hideActorPhoto,fa=null;if(this.props.subtitle){fa=c('React').createElement('span',{className:r},this.props.subtitle)}else if(!this.state.isFocused&&this.props.isEditing){fa=c('React').createElement('span',{className:r},i._("{cancel}",[i.param('cancel',c('React').createElement(c('Link.react'),{onClick:function(){return this.context.dispatch(c('UFIAddCommentAction').cancel(this.props.contextArgs))}.bind(this)},i._("\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01")))]))}else if(this.props.isEditing){fa=c('React').createElement('span',{className:r},i._("\u0e01\u0e14 Esc \u0e40\u0e1e\u0e37\u0e48\u0e2d{cancel}",[i.param('cancel',c('React').createElement(c('Link.react'),{onMouseDown:function(){return this.context.dispatch(c('UFIAddCommentAction').cancel(this.props.contextArgs))}.bind(this)},i._("\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01")))]))}else if(this.props.multiCompanyGroupsCount&&this.state.isFocused){fa=c('React').createElement('div',{className:"fcg fsm _2pid"},c('React').createElement(c('Badge.react'),{key:'noncoworker',type:'work_non_coworker'}),c('React').createElement('span',{className:"_2pir _4zk5"},i._({"*":"\u0e1c\u0e39\u0e49\u0e04\u0e19\u0e08\u0e32\u0e01 {number} \u0e1a\u0e23\u0e34\u0e29\u0e31\u0e17\u0e08\u0e30\u0e40\u0e2b\u0e47\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e19\u0e35\u0e49","_1":"\u0e1c\u0e39\u0e49\u0e04\u0e19\u0e08\u0e32\u0e01 1 \u0e1a\u0e23\u0e34\u0e29\u0e31\u0e17\u0e08\u0e30\u0e40\u0e2b\u0e47\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e19\u0e35\u0e49"},[i.plural(this.props.multiCompanyGroupsCount,'number')])))}else if(this.props.showSendOnEnterTip&&!this.props.contextArgs.isTahoeUFI)fa=c('React').createElement('span',{className:r},i._("\u0e01\u0e14 Enter \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e42\u0e1e\u0e2a\u0e15\u0e4c"));var ga=null,ha=null,ia=null,ja=null,ka=this.state.attachedPhoto||this.state.attachedSticker||this.state.attachedVideo||this.state.attachedGIF,la=null,ma=null;if(this.props.allowCommentMarkdown)ja=c('React').createElement(c('UFIMarkdownButton.react'),{active:this.state.commentMarkdownEnabled,ref:'markdownButton',onClick:function(){var fb=!this.state.commentMarkdownEnabled;this.setState({commentMarkdownEnabled:fb});if(this.refs.mentionsinput&&fb)this.$UFIAddComment13(this.refs.mentionsinput.getText());}.bind(this)});if(this.props.allowStickerAttachments&&!ka)ha=c('React').createElement(c('UFIStickerButton.react'),{ref:'sticker_button',onStickerSelected:this.onStickerSelected,onEmoticonSelected:this.$UFIAddComment35,onStickerFlyoutShow:function(){c('Arbiter').inform('comment_content_change',{addingAttachment:true});if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();}.bind(this)});if(this.props.allowGifAttachments&&!ka)ia=c('React').createElement(c('UFIGifButton.react'),{ref:'gif_button',onGifSelected:this.onGifSelected,onGifFlyoutShow:function(){if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();}.bind(this)});if(this.props.allowTipJar)ma=c('React').createElement(c('UFITipJarButton.react'),{instanceID:this.props.contextArgs.instanceid,permalink:this.props.contextArgs.permalink,receiverID:this.props.targetID,videoID:this.props.contextArgs.ftentidentifier});if(this.props.allowPhotoAttachments||this.props.allowVideoAttachments){la=this.$UFIAddComment20;ga=c('React').createElement(c('UFIAttachMediaSection.react'),{ref:'media_section',getPhotoUploadData:this.$UFIAddComment21,prepareForAttachedPhotoPreview:this.$UFIAddComment23,prepareForAttachedVideoPreview:this.$UFIAddComment36,allowVideoAttachments:this.props.allowVideoAttachments,onPhotoUploadComplete:this.$UFIAddComment25,onVideoUploadComplete:this.$UFIAddComment37,onVideoEncodeUpdate:this.$UFIAddComment38,onVideoUploadUpdate:this.$UFIAddComment39,setFileInput:this.$UFIAddComment32,targetId:this.props.targetID,onClick:function(){c('Arbiter').inform('comment_content_change',{addingAttachment:true});if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();}.bind(this),attachment:ka,viewerActorID:this.props.viewerActorID})}var na=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.ADD_COMMENT_BOX),oa='addComment_'+this.props.contextArgs.ftentidentifier,pa=void 0;if(this.props.replyCommentID){pa=p}else if(this.props.isQAndA){pa=i._("\u0e16\u0e32\u0e21\u0e04\u0e33\u0e16\u0e32\u0e21...")}else if(this.props.contextArgs.isaskquestion){pa=q}else pa=o;var qa=this.props.contextArgs.viewoptionstypeobjects,ra=this.props.contextArgs.viewoptionstypeobjectsorder;if(this.props.attachedPhoto&&!this.props.subtitle)fa=null;var sa=void 0;if(this.state.attachedPhoto||this.state.isLoadingPhoto||this.state.attachedVideo||this.state.videoStatus===y.UPLOAD||this.state.attachedSticker||this.state.attachedGIF)sa=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('UFIAttachedMediaPreview.react').__setRef('UFIAddComment.react'),bootloadPlaceholder:c('React').createElement('span',null),attachedPhoto:this.state.attachedPhoto,attachedVideo:this.state.attachedVideo,attachedSticker:this.state.attachedSticker,attachedGIF:this.state.attachedGIF,monitorHeight:this.props.contextArgs.monitorHeight,onRemoveAttachedMediaPreviewClicked:this.$UFIAddComment24,onRemoveAttachedStickerPreview:this.$UFIAddComment40,subtitle:this.props.subtitle,isLoadingPhoto:this.state.isLoadingPhoto,videoFileURL:this.state.videoFileURL,videoStatus:this.state.videoStatus,videoProgress:this.state.videoProgress,isVideoFileTranscodedGIF:this.state.isVideoFileTranscodedGIF});var ta=this.props.contextArgs.mentionsinput,ua=null,va=null,wa=null;if(ta){ua=ta.inputComponent;va=ta.viewComponent;wa=ta.viewProps}var xa=this.props.editingComment.body,ya=xa?c('MentionsInputUtils').generateDataFromTextWithEntities(xa):null,za=null;if(this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled)za=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('UFICommentMarkdownPreview.react').__setRef('UFIAddComment.react'),bootloadPlaceholder:c('React').createElement('span',null),markup:this.state.commentMarkdownPreviewContent});var ab=null;if(this.state.messengerTarget)ab=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('UFICommentMessengerPrompt.react').__setRef('UFIAddComment.react'),bootloadPlaceholder:c('React').createElement('span',null),target:this.state.messengerTarget,removeMessengerPrompt:this.$UFIAddComment33});if(this.state.chatPivotTargets)ab=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('UFICommentMessengerGroupsPrompt.react').__setRef('UFIAddComment.react'),bootloadPlaceholder:c('React').createElement('span',null),toggleSendingAsChat:this.$UFIAddComment34});var bb=ua?c('React').createElement(ua,{disableInitTextarea:!da,replyCommentID:this.props.replyCommentID,initialData:ya,placeholder:pa,datasource:this.props.mentionsDataSource,ref:'mentionsinput',viewComponent:va,viewProps:wa,viewOptionsTypeObjects:qa,viewOptionsTypeObjectsOrder:ra,hashtags:this.props.contextArgs.sht,showHashtagTypeahead:c('UFIConfig').showHashtagTypeahead,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this.$UFIAddComment26,onFocus:this.focus,onBlur:this.$UFIAddComment19,onContentChange:this.$UFIAddComment12,onPaste:la,ftEntIdentifier:this.props.contextArgs.ftentidentifier,instanceID:this.props.contextArgs.instanceid,isBroadcasterUFI:this.props.contextArgs.isBroadcasterUFI,isTahoeUFI:this.props.contextArgs.isTahoeUFI}):null,cb=c('SutroStoryHeaderUFIGatingConfig').enabled_for_comment_composer_rounded_borders,db=c('SutroStoryHeaderUFIGatingConfig').enabled_for_comment_glyphs,eb=c('React').createElement('div',{className:'UFICommentContainer'},c('React').createElement('div',{className:"_fmi"+(cb?' '+"_613v":'')+(' '+"UFIInputContainer")},bb,c('React').createElement('div',{className:"_fmk"+(' '+"UFICommentAttachmentButtons")+(' '+"_5op2")+(db?' '+"_15i7":'')+(db?' '+"_2kwm":'')},c('React').createElement(c('EmojiInputButton.react'),{buttonClassName:"_r1a UFICommentEmojiButton",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"UFICommentEmojiIcon",onClick:function(){if(this.props.markViewerHasInteracted)this.props.markViewerHasInteracted();}.bind(this),onSelect:function(fb){this.refs.mentionsinput.insertEmoji(fb)}.bind(this)}),ja,ga,ia,ha,ma)),ab,za,sa,fa);if(ea)eb=c('React').createElement(c('UFIImageBlock.react'),{className:"UFIMentionsInputWrap"+(this.props.allowStickerAttachments?' '+"UFIStickersEnabledInput":'')+(this.props.allowCommentMarkdown?' '+"UFIMarkdownEnabledInput":'')+(this.props.allowGifAttachments?' '+"UFIGifEnabledInput":'')+(this.props.allowTipJar?' '+"UFITipJarEnabledInput":'')},c('React').createElement('div',{className:'UFIReplyActorPhotoWrapper',onClick:this.focus,role:'presentation'},c('React').createElement(c('UFIActorIconContainer.react'),{actorID:this.props.viewerActorID})),eb);return c('React').createElement('div',{ref:function(fb){return this.rootNode=fb}.bind(this),id:oa,className:c('joinClasses')("UFIRow"+(' '+"_4oep")+(' '+"UFIAddComment")+(this.props.allowPhotoAttachments?' '+"UFIAddCommentWithPhotoAttacher":'')+(this.props.withoutSeparator?' '+"UFIAddCommentWithoutSeparator":'')+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":'')+(this.state.inCommercialBreak||this.state.isPlayingLiveVODHighlights?' '+"hidden_elem":''),this.props.className),onKeyDown:this.$UFIAddComment10,'data-ft':na},this.$UFIAddComment41(),eb,this.$UFIAddComment29(),this.$UFIAddComment30())};ba.prototype.componentDidUpdate=function(ca,da){if(!da.attachedPhoto&&this.state.attachedPhoto||!da.attachedSticker&&this.state.attachedSticker||!da.attachedVideo&&this.state.attachedVideo||!da.isCommenting&&this.state.isCommenting){this.refs.mentionsinput.focus()}else if(this.props.keepFocus&&this.state.hasSubmitted)this.refs.mentionsinput.focus();if(ca.viewerActorID!==this.props.viewerActorID){if(this.state.fileInput)this.state.fileInput.clear();if(this.state.fileUploader)this.state.fileUploader.setData(this.$UFIAddComment21());this.$UFIAddComment24()}};ba.prototype.componentDidMount=function(){this.$UFIAddComment1=true;this.$UFIAddComment13=c('throttle')(this.$UFIAddComment13,v,this);if(!this.props.allowPhotoAttachments&&!this.props.allowVideoAttachments)return;if(this.props.replyCommentID===null){this.$UFIAddComment7=c('Arbiter').subscribe('focusCommentField'+this.props.contextArgs.ftentidentifier,function(ca){this.refs.mentionsinput.focus()}.bind(this));if(this.props.contextArgs.issnowlift)this.$UFIAddComment8=c('Arbiter').subscribe('newRemixedImage'+this.props.contextArgs.ftentidentifier,function(ca,da){var event={clipboardData:{items:[da]}};this.$UFIAddComment20(event)}.bind(this));}};ba.prototype.$UFIAddComment41=function(){if(this.props.constituentBanner&&!this.props.replyCommentID)return c('React').createElement(c('UFICommentingAsConstituentHeader.react'),{uri:this.props.constituentBanner});return null};ba.prototype.insertMention=function(ca){if(this.refs.mentionsinput&&this.refs.mentionsinput.insertMention)this.refs.mentionsinput.insertMention(ca);};ba.prototype.$UFIAddComment42=function(ca){return ca==='finish'};ba.prototype.$UFIAddComment43=function(){this.state.fileInput&&this.state.fileInput.clear()};ba.prototype.$UFIAddComment45=function(ca){this.setState({attachedSticker:null,isLoadingPhoto:true});new (c('AsyncRequest'))(u).setData({sticker_id:ca}).setErrorHandler(this.$UFIAddComment40).setHandler(this.$UFIAddComment44).send()};ba.prototype.sendSticker=function(ca,event){var da={encodedValue:'',visibleValue:'',attachedPhoto:null,attachedSticker:{fbid:ca}};this.context.dispatch(c('UFIAddCommentAction').submitNew(this.props.contextArgs,da,event.target,this.props.replyCommentID))};ba.prototype.$UFIAddComment46=function(){this.setState({gifsInCommentsNUXVisible:false})};ba.prototype.preprocessGIF=function(ca){var da=c('XUFICommentGIFPreprocessController').getURIBuilder().getURI();new (c('AsyncRequest'))(da).setData({gif_url:ca.source.url}).send()};ba.prototype.sendGIF=function(ca){var da={encodedValue:'',visibleValue:'',attachedShareURL:ca.source.url};if(this.rootNode)this.context.dispatch(c('UFIAddCommentAction').submitNew(this.props.contextArgs,da,this.rootNode,this.props.replyCommentID));};ba.prototype.parseTextForMentions=function(ca){var da=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,ea=[],fa=void 0;while(fa=da.exec(ca)){var ga={uid:fa[1],text:fa[2],offset:fa.index,length:fa[2].length,weakreference:false,entity:{uid:fa[1],weakreference:false}};ea.push(ga);da.lastIndex=ga.offset+ga.length}return ea};ba.contextTypes={dispatch:n.func};f.exports=ba}),null);
__d("XUFICommentTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/comment\/tooltip\/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]}})}),null);
__d('UFICommentCount.react',['cx','fbt','ActorURI','NumberFormat','React','XUFICommentTooltipController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.$UFICommentCount1=function(){var n=this.props.commentCount,o=n==1;if(typeof n==='number')n=c('NumberFormat').formatInteger(n);return i._({"Comment":"{count} \u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19","Comments":"{count} \u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19"},[i.param('count',n),i['enum'](o?'Comment':'Comments',{Comment:'Comment',Comments:'Comments'})])};m.prototype.render=function(){var n=this.props.feedback,o=n.entidentifier,p=n.actorforpost,q=this.$UFICommentCount1(),r="fcg",s=null;if(o&&p)s=c('ActorURI').create(c('XUFICommentTooltipController').getURIBuilder().setString('ft_ent_identifier',o).getURI(),p);if(s){return c('React').createElement('span',{'aria-live':'polite',className:r,'data-hover':'tooltip','data-tooltip-uri':s},q)}else return c('React').createElement('span',{className:r},q);};function m(){j.apply(this,arguments)}m.propTypes={commentCount:l.oneOfType([l.number,l.string]).isRequired,feedback:l.object.isRequired};f.exports=m}),null);
__d("XUFIShareTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/share\/tooltip\/",{ft_ent_identifier:{type:"String",required:true},seen_user_fbids:{type:"IntVector",defaultValue:[]}})}),null);
__d("XUFIShareTooltipController.flow",["XUFIShareTooltipController"],(function a(b,c,d,e,f,g){f.exports=c("XUFIShareTooltipController")}),null);
__d('UFIShareRow.react',['cx','fbt','invariant','ActorURI','Layout.react','NumberFormat','React','UFICommentCount.react','URI','XUFIShareTooltipController.flow','intlSummarizeNumber'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;o.prototype.$UFIShareRow1=function(){var p=this.props,q=p.feedback,r=p.shownCommentCount;if(r&&Number(r)!==0)return c('React').createElement(c('UFICommentCount.react'),{feedback:q,commentCount:r});return null};o.prototype.render=function(){var p=this.props.feedback.sharefbid||this.props.feedback.targetfbid,q=new (c('URI'))('/ajax/shares/view').setQueryData({target_fbid:p}),r=new (c('URI'))('/shares/view').setSubdomain('www').setQueryData({id:p}),s=this.props.contextArgs.loggedOutLinkConfig;if(s&&s.showShareLink){q=s.shareAjaxifyURI;q||j(0)}var t=void 0;if(this.props.feedback.sharecount>1){var u=this.props.useReducedShareCount?c('intlSummarizeNumber')(this.props.feedback.sharecount):c('NumberFormat').formatInteger(this.props.feedback.sharecount);t=i._("\u0e41\u0e0a\u0e23\u0e4c {count} \u0e04\u0e23\u0e31\u0e49\u0e07",[i.param('count',u)])}else t=i._("\u0e41\u0e0a\u0e23\u0e4c 1 \u0e04\u0e23\u0e31\u0e49\u0e07");var v="UFIRow"+(' '+"UFIShareRow")+(this.props.isFirstComponent?' '+"_4204":'')+(this.props.isLastComponent?' '+"_2o9m":''),w=c('ActorURI').create(c('XUFIShareTooltipController.flow').getURIBuilder().setString('ft_ent_identifier',this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost),x=c('React').createElement('a',{className:'UFIShareLink',rel:'dialog','data-hover':'tooltip','data-tooltip-uri':w,ajaxify:q.toString(),href:r.toString()},t),y=this.$UFIShareRow1();if(y)x=c('React').createElement(c('Layout.react'),null,c('React').createElement(n,null,x),c('React').createElement(m,null,y));return c('React').createElement('div',{className:v},x)};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d('FBCollapsibleList.react',['Link.react','React','getObjectValues'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes,k={COMMA:'comma',NEWLINE:'newline'};h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={numShown:this.props.numVisible},this.$FBCollapsibleList1=function(){return this.state.numShown<this.$FBCollapsibleList6()}.bind(this),this.$FBCollapsibleList2=function(){var r=this.$FBCollapsibleList6();return this.props.showLessLink&&this.props.numVisible<r&&this.state.numShown>=r}.bind(this),this.$FBCollapsibleList4=function(){var r=this.$FBCollapsibleList6()-this.props.numVisible;return c('React').createElement(c('Link.react'),{onClick:this.$FBCollapsibleList7,key:'seeMore'},c('React').createElement('b',null,'Show more ','(',r,')'))}.bind(this),this.$FBCollapsibleList5=function(){return c('React').createElement(c('Link.react'),{onClick:this.$FBCollapsibleList8,key:'seeLess'},c('React').createElement('b',null,'Show less'))}.bind(this),this.$FBCollapsibleList3=function(r,s){switch(this.props.delimiter){case k.NEWLINE:return [c('React').createElement('div',{key:r.key},r)];case k.COMMA:return s?[r]:[r,', '];default:throw new Error('Invalid delimiter: '+this.props.delimiter);}}.bind(this),this.$FBCollapsibleList8=function(){this.setState({numShown:this.props.numVisible})}.bind(this),this.$FBCollapsibleList6=function(){if(!!this.props.maxShowMore&&this.props.maxShowMore<this.props.children.length)return this.props.maxShowMore;return this.props.children.length}.bind(this),this.$FBCollapsibleList7=function(){this.setState({numShown:this.$FBCollapsibleList6()})}.bind(this),n}l.prototype.render=function(){'use strict';var m=this.$FBCollapsibleList1(),n=this.$FBCollapsibleList2(),o=Math.min(this.state.numShown,this.props.children.length),p=m||n,q=[];for(var r=0;r<o;r++){var s=!p&&r===o-1;q.push(this.$FBCollapsibleList3(this.props.children[r],s))}if(m){q.push(this.$FBCollapsibleList4())}else if(n)q.push(this.$FBCollapsibleList5());return this.props.display=='block'?c('React').createElement('div',this.props,q):c('React').createElement('span',this.props,q)};l.propTypes={delimiter:j.oneOf(c('getObjectValues')(k)),display:j.oneOf(['inline','block']),numVisible:j.number.isRequired,maxShowMore:j.number,showLessLink:j.bool};l.Delimiters=k;l.defaultProps={children:[],delimiter:k.NEWLINE,display:'block',showLessLink:false};f.exports=l}),null);
__d('LitestandClassicRHC',['Arbiter','BigPipe','DOMQuery','NavigationMessage','Run','SubscriptionsHandler','requireWeak'],(function a(b,c,d,e,f,g){function h(j,k){var l=new (c('SubscriptionsHandler'))(),m=l.release.bind(l),n=c('DOMQuery').scry(j,'.pagelet'),o=n.length;l.addSubscriptions(k.subscribe(n.map(function(p){return p.id+'_displayed'}),function(){if(--o===0){c('Arbiter').inform('LitestandClassicRHC/loaded');m()}}),c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,m),k.subscribeOnce(c('BigPipe').Events.displayed,function(){c('Arbiter').inform('LitestandClassicRHC/loaded');m()}));c('Run').onLeave(m)}var i={init:function j(k){c('requireWeak')('BigPipe',function(l){var m=l.getCurrentInstance();if(m&&m.arbiter){h(k,m.arbiter)}else c('Arbiter').subscribeOnce('BigPipe/init',function(event,n){h(k,n.arbiter)},c('Arbiter').SUBSCRIBE_NEW);})}};f.exports=i}),18);
__d('addFocusEvents',['Deferred','Event','React','SubscriptionList'],(function a(b,c,d,e,f,g){var h=c('React').Component,i=void 0,j=function(k){return function(){var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;n.prototype.componentDidMount=function(){'use strict';if(!i){var o,p;i=new (c('SubscriptionList'))(function(){o=c('Event').listen(window,'blur',function(){i&&i.fireCallbacks(true);p&&p.remove();p=c('Event').listen(document.documentElement,'focusin',function(){i&&i.fireCallbacks(false);p&&p.remove();p=null})})},function(){o&&o.remove();p&&p.remove();o=null;p=null;i=null})}this.subscription=i.add(function(q){this.locked=q}.bind(this))};n.prototype.componentWillUnmount=function(){'use strict';this.subscription&&this.subscription.remove()};n.prototype.onClick=function(event){'use strict';this.props.onClick&&this.props.onClick(event);if(this.deferred)this.deferred.resolve(this.props.onMouseFocus);};n.prototype.onFocus=function(event){'use strict';if(this.deferred)this.deferred.reject();if(this.locked)return;this.deferred=new (c('Deferred'))();this.deferred.done(function(o){o&&o(event);this.deferred=null}.bind(this),function(){this.deferred=null}.bind(this))};n.prototype.onKeyUp=function(event){'use strict';this.props.onKeyUp&&this.props.onKeyUp(event);if(this.deferred)this.deferred.resolve(this.props.onKeyboardFocus);};n.prototype.render=function(){'use strict';var o=this.props,p=o.onKeyboardFocus,q=o.onMouseFocus,r=babelHelpers.objectWithoutProperties(o,['onKeyboardFocus','onMouseFocus']);return c('React').createElement(k,babelHelpers['extends']({},r,{onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this),onKeyUp:this.onKeyUp.bind(this)}))};function n(){'use strict';l.apply(this,arguments)}return n}()}.bind(this);f.exports=j}),null);
__d('CommentPrelude',['BanzaiODS','CSS','ErrorUtils','Parent','clickRefAction','ex','ifRequired'],(function a(b,c,d,e,f,g){function h(n,o){if(n==='ufi.react'||n==='ufi_mentions_input.react'||n==='ufi_controller'||n==='action_link_bling'||n==='action_link_timeline_bling')return;var p=new Error(c('ex')('Deprecated CommentPrelude action %s called from ref %s',o||'unknown',n||'unknown'));p.type='warn';c('ErrorUtils').reportError(p);c('BanzaiODS').bumpEntityKey('comment_prelude',n)}function i(n,o,p){h(p,'click');var q=c('Parent').byTag(n,'form');if(!q||!c('CSS').hasClass(q,'collapsible_comments'))return;c('clickRefAction')('ufi',n,null,'FORCE');return j(n,o,p)}function j(n,o,p){h(p,'expand');var q=c('Parent').byTag(n,'form');if(!q||!c('CSS').hasClass(q,'collapsible_comments'))return;k(q,p);if(o!==false){var r=q.add_comment_text_text||q.add_comment_text,s=r.length;if(s)if(!c('Parent').byClass(r[s-1],'UFIReplyList')){r=r[s-1]}else if(!c('Parent').byClass(r[0],'UFIReplyList')){r=r[0]}else r=null;if(r){r.focus();c('ifRequired')('FbFeedCommentUFIScroller',function(t){return t.reveal(r)})}}return false}function k(n,o){h(o,'uncollapse');if(!n||!c('CSS').hasClass(n,'collapsible_comments'))return;var p=c('CSS').removeClass.bind(null,n,'collapsed_comments');c('ifRequired')('ScrollAwareDOM',function(q){return q.monitor(n,p)},function(){return p()})}function l(n){var o=n.getAttribute('data-comment-prelude-ref');h(o,'blingbox');var p=c('Parent').byTag(n,'form');if(!p||!c('CSS').hasClass(p,'collapsible_comments'))return;c('CSS').toggleClass(p,'collapsed_comments')}var m={click:i,expand:j,uncollapse:k,onBlingboxClick:l,logRef:h};f.exports=m}),null);
__d('VideoDisplayTimePlayButton',['CSS','DataStore','Event'],(function a(b,c,d,e,f,g){var h={},i='_spinner',j={getClicked:function k(l){return c('DataStore').get(l,'clicked',false)},register:function k(l,m){var n=l.id;h[n]=c('Event').listen(l,'click',function(){if(m){c('CSS').hide(l);c('CSS').show(m)}c('DataStore').set(l,'clicked',true)});if(m)h[n+i]=c('Event').listen(m,'click',function(){if(m)c('CSS').hide(m);c('CSS').show(l);c('DataStore').set(l,'clicked',false)});},unregister:function k(l){var m=l.id;if(Object.prototype.hasOwnProperty.call(h,m))h[m].remove();var n=m+i;if(Object.prototype.hasOwnProperty.call(h,n))h[n].remove();}};f.exports=j}),null);
__d('Middot.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return c('React').createElement('span',babelHelpers['extends']({},this.props,{role:'presentation','aria-hidden':true}),' \u00B7 ')};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBFeedLocations",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NEWSFEED:1,GROUP:2,GROUP_PERMALINK:3,COMMUNITY:4,PERMALINK:5,SHARE_OVERLAY:6,PERMALINK_STREAM:7,GROUP_PINNED:8,FRIEND_LIST:9,TIMELINE:10,HASHTAG_FEED:11,TOPIC_FEED:12,PAGE:13,NOTIFICATION_FEED:14,GROUP_REPORTED:15,GROUP_PENDING:16,PAGES_FEED_IN_PAGES_MANAGER:17,TICKER_CLASSIC:18,PAGES_SUGGESTED_FEED_IN_PAGES_MANAGER:19,SEARCH:20,GROUP_SEARCH:21,NO_ATTACHMENT:22,EMBED:23,EMBED_FEED:24,ATTACHMENT_PREVIEW:25,STORIES_TO_SHARE:26,PROMPT_PERMALINK:27,TREND_HOVERCARD:28,OPEN_GRAPH_PREVIEW:30,HOTPOST_IN_PAGES_FEED:31,SCHEDULED_POSTS:32,TIMELINE_NOTES:33,PAGE_INSIGHTS:34,COMMENT_ATTACHMENT:35,PAGE_TIMELINE:36,GOODWILL_THROWBACK_PERMALINK:37,LIKE_CONFIRM:39,GOODWILL_THROWBACK_PROMOTION:40,BROWSE_CONSOLE:42,GROUP_FOR_SALE_COMPACT:43,ENTITY_FEED:44,GROUP_FOR_SALE_DISCUSSION:45,PAGES_CONTENT_TAB_PREVIEW:46,GOODWILL_THROWBACK_SHARE:47,TIMELINE_VIDEO_SHARES:48,EVENT:49,PAGE_PLUGIN:50,SRT:51,PAGES_CONTENT_TAB_INSIGHTS:52,ADS_PE_CONTENT_TAB_INSIGHTS:53,PAGE_ACTIVITY_FEED:54,VIDEO_CHANNEL:55,POST_TO_PAGE:56,GROUPS_GSYM_HOVERCARD:57,GROUP_POST_TOPIC_FEED:58,FEED_SURVEY:59,PAGES_MODERATION:60,SAVED_DASHBOARD:61,PULSE_SEARCH:62,GROUP_NUX:63,GROUP_NUX_POST_VIEW:64,EVENT_PERMALINK:65,FUNDRAISER_PAGE:66,EXPLORE_FEED:67,CRT:68,REVIEWS_FEED:69,VIDEO_HOME_CHANNEL:70,NEWS:71,TIMELINE_FRIENDSHIP:72,SAVED_REMINDERS:73,PSYM:74,ADMIN_FEED:75,CAMPFIRE_NOTE:76,PAGES_CONTEXT_CARD:77,ACTIVITY_LOG:78,WALL_POST_REPORT:79,TIMELINE_BREAKUP:80,POLITICIANS_FEED:81,PRODUCT_DETAILS:82,SPORTS_PLAY_FEED:83,GROUP_TOP_STORIES:84,PAGE_TIMELINE_PERMALINK:86,OFFERS_WALLET:87,INSTREAM_VIDEO_IN_LIVE:88,SPOTLIGHT:89,SEARCH_DERP:90,SOCIAL_BALLOT:91,GROUP_SUGGESTIONS_WITH_STORY:92,SOCIAL_BALLOT_PERMALINK:93,LOCAL_SERP:94,FUNDRAISER_SELF_DONATION_FEED:95,CONVERSATION_NUB:97,GROUP_TOP_SALE_STORIES:98,GROUP_LEARNING_COURSE_UNIT_FEED:99,SUPPORT_INBOX_READ_TIME_BLOCK:100,PAGE_POSTS_CARD:101,CRISIS_POST:102,SUPPORT_INBOX_GROUP_RESPONSIBLE:103,PAGE_POST_DIALOG:104,CRISIS_DIALOG_POST:105,PAGE_LIVE_VIDEOS_CARD:106,PAGE_POSTS_CARD_COMPACT:107,GROUP_MEMBER_BIO_FEED:108,LIVE_COMMENT_ATTACHMENT:109,GROUP_COMPOSER:110,GROUP_INBOX_GROUP:111,GROUP_INBOX_AGGREGATED:112,ENDORSEMENTS:113,EVENTS_DASHBOARD:114,CURATED_COLLECTIONS_PAGE:115,OYML:116,COLLEGE_HOMEPAGE:117,GROUP_LIVE_VIDEOS_CARD:118,COLLEGE_HIGHLIGHTS:119,VIDEO_PERMALINK:120,JOB_CAROUSEL_NETEGO:121,TOPIC_PAGE:122,USER_SCHEDULED_POSTS:123,GOODWILL_THROWBACK_ATTACHMENT_PREVIEW:124,INSTREAM_VIDEO_IN_WASLIVE:125,INSTREAM_VIDEO_IN_NONLIVE:126,SIGNAL_APP:127,ALBUM_FEED:128,TOP_MARKETPLACE_STORIES:129,CE_PII_STRIPPED_FEED:130,TAHOE:131,SAVE_COUNT_DIALOG:132,GROUP_POST_TAG_FEED:133,GOV_DIGEST:134,GROUP_SCHEDULED:135,GAMEROOM_FEED:136,WORKPLACE_HUB_PREVIEW:137,BRANDED_CONTENT_TRENDING_POSTS:138,GROUP_ANNOUNCEMENTS:139,GROUP_ANNOUNCEMENTS_FEED:140,EXTERN_CE_PII_STRIPPED_FEED:141,CRISIS_HUB_DESKTOP:142,GROUP_DRAFT_POSTS:143,TRENDING_ISSUES:144,GAME_HUB_FEED:145,LUMOS_POST_PREVIEW:146})}),null);
__d("TranslationTrigger",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEE_TRANSLATION:"see_translation",AUTO_TRANSLATION:"auto_translation",SEE_CONVERSION:"see_conversion",TRANSLATE_ALL:"translate_all",LOGGED_OUT_AUTO_TRANSLATION:"logged_out_auto_translation",NONE:"none"})}),null);
__d("UFILikeWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIKE_LINK:"fb-ufi-likelink",UNLIKE_LINK:"fb-ufi-unlikelink",LIKE_LINK_COMMENT:"ufi_comment_like_link",LIKE_LINK_REPLY:"ufi_reply_like_link"})}),null);
__d("UserHovercardLocation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INVALID:"unknown",NONE:"none",HC_FRIEND_BROWSER:"hc_friend_browser",HC_FRIENDS_TAB:"hc_friends_tab",HC_PROFILE_BROWSER:"hc_profile_browser",HC_STREAM:"hc_stream",HC_TIMELINE:"hc_timeline",HC_UFI:"hc_ufi",HC_REMINDER_POKE:"hc_reminder_poke",HC_REMINDER_BIRTHDAY:"hc_reminder_birthday",HC_EVENT_GUEST:"hc_event_guest",HC_UNKNOWN:"hc_unknown",HC_NUX:"hc_nux_page_suggestion",FRIEND_BROWSER:"friend_browser",FRIENDS_TAB:"friends_tab",PROFILE_BROWSER:"profile_browser",STREAM:"stream",TIMELINE:"timeline",UFI:"ufi",UFI_ADMIN:"ufi_admin",REMINDER_POKE:"reminder_poke",REMINDER_BIRTHDAY:"reminder_birthday",REMINDER_FACEVERSARY:"reminder_faceversary",REMINDER_NAMEDAY:"reminder_nameday",REMINDER_WORK_ANNIVERSARY:"reminder_work_anniversary",EVENT_GUEST:"event_guest",NUX_PAGE_SUGGESTION:"hc_nux_page_suggestion",TIMELINE_FRIENDS_BOX:"tl_fr_box",CHAT:"chat",GROUP:"group",GROUP_DIALOG:"group_dialog",MARKETPLACE_HOVERCARD:"marketplace_hovercard"})}),null);
__d("XUFIReactionsSocialSentenceTooltipController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ufi\/reaction\/sentence\/tooltip\/",{ft_ent_identifier:{type:"String",required:true},user_count:{type:"Int"},client_id:{type:"String"}})}),null);