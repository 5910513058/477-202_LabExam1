if (self.CavalryLogger) { CavalryLogger.start_js(["DC+fa"]); }

__d('MercuryRTCShareAttachment.react',['cx','ix','fbt','FBRTCCore','FBRTCLogger','FBRTCSupport','Image.react','React','MercuryLogMessageType','MercuryShareAttachmentReactShape','MercuryShareAttachmentRenderLocations','MercuryViewer','MercuryParticipants','MercuryIDs','MercuryTimestamp','MessengerTextWithEmoticons.react','MNRTCCallabilityStore','ShimButton.react','SimpleXUIDialog','XUIText.react','XUIButton.react','CenteredContainer.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=c('MercuryShareAttachmentRenderLocations').CHAT,o=c('MercuryShareAttachmentRenderLocations').MESSENGER,p=c('MercuryShareAttachmentRenderLocations').WEB_INBOX;k=babelHelpers.inherits(q,c('React').Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={peerName:null},this.$MercuryRTCShareAttachment2=function(w,x,y,z){if(c('FBRTCSupport').isOSSupported()){return c('React').createElement(c('ShimButton.react'),{form:'link',onClick:this.$MercuryRTCShareAttachment4.bind(this,w,x)},!y&&!z?j._("\u0e42\u0e17\u0e23\u0e01\u0e25\u0e31\u0e1a"):j._("\u0e42\u0e17\u0e23\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07"))}else return c('React').createElement('span',null,!y&&!z?j._("\u0e42\u0e17\u0e23\u0e01\u0e25\u0e31\u0e1a"):j._("\u0e42\u0e17\u0e23\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07"));}.bind(this),this.$MercuryRTCShareAttachment3=function(w,x,y,z){var aa=!y&&!z?j._("\u0e42\u0e17\u0e23\u0e01\u0e25\u0e31\u0e1a"):j._("\u0e42\u0e17\u0e23\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07");return c('React').createElement(c('XUIButton.react'),{onClick:this.$MercuryRTCShareAttachment4.bind(this,w,x),label:aa})}.bind(this),s}q.prototype.componentDidMount=function(){var r=this.props.attachment.log_message_data.caller,s=this.props.attachment.log_message_data.callee,t=r===c('MercuryViewer').getID(),u=t?s:r;c('MercuryParticipants').get(u,function(v){this.setState({peerName:v.short_name?v.short_name:v.name})}.bind(this))};q.prototype.render=function(){var r=this.props.attachment.log_message_data.caller,s=this.props.attachment.log_message_data.callee,t=this.props.attachment.log_message_data.answered,u=r===c('MercuryViewer').getID(),v=u?s:r,w=c('MercuryIDs').getUserIDFromParticipantID(v),x=this.state.peerName,y=c('MercuryTimestamp').getPreciseTimestamp(this.props.attachment.timestamp),z=c('React').createElement(c('MessengerTextWithEmoticons.react'),{text:this.props.attachment.log_message_body}),aa=this.$MercuryRTCShareAttachment1(t,u,y),ba=void 0,ca=void 0;if(this.props.location===n){ba=this.$MercuryRTCShareAttachment2(w,x,t,u);return c('React').createElement('div',{className:"_1k2i"},c('React').createElement('div',{className:!t&&!u?"_1k2j":''},c('React').createElement(c('XUIText.react'),{weight:'bold'},z),c('React').createElement(c('XUIText.react'),{weight:'bold'},aa)),c('React').createElement('hr',null),c('React').createElement(c('CenteredContainer.react'),{vertical:true,className:"_3-8x"},ba))}else if(this.props.location===o){ba=this.$MercuryRTCShareAttachment2(w,x,t,u);return c('React').createElement('div',{className:"_55q _5i_d _52mr"},c('React').createElement('div',{className:(!t&&!u?"_1k2j":'')+(' '+"_55r")},c('React').createElement(c('XUIText.react'),{weight:'bold'},z),c('React').createElement(c('XUIText.react'),{weight:'bold'},aa)),c('React').createElement(c('CenteredContainer.react'),{vertical:true,className:"_3-8w"},ba))}else if(this.props.location===p){ca=this.$MercuryRTCShareAttachment3(w,x,t,u);return c('React').createElement('div',null,c('React').createElement('div',{className:(!t&&!u?"_1k2j":'')+(' '+"_55s")},z),c('React').createElement('div',{className:"_55t"},ca))}};q.prototype.$MercuryRTCShareAttachment1=function(r,s,t){var u=null;if(!r&&!s){u=i("86815")}else if(s){u=i("86816")}else u=i("86813");return c('React').createElement('div',{className:"_2phz"},c('React').createElement(c('Image.react'),{src:u}),c('React').createElement('span',{className:(r||s?"_3ole":'')+(' '+"_2pir")},t))};q.prototype.$MercuryRTCShareAttachment4=function(r,s){var t=this.props.attachment.log_message_type===c('MercuryLogMessageType').PHONE_CALL;if(c('FBRTCCore').isAvailableForWebrtcCalling(r)||c('MNRTCCallabilityStore').isCallable(r)){c('FBRTCCore').startOutgoingCall(r,c('FBRTCLogger').Trigger.ADMIN_MESSAGE,t)}else c('SimpleXUIDialog').show(j._("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d {firstname} \u0e44\u0e14\u0e49\u0e43\u0e19\u0e02\u0e13\u0e30\u0e19\u0e35\u0e49",[j.param('firstname',s)]),j._("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d\u0e01\u0e32\u0e23\u0e42\u0e17\u0e23"));};q.propTypes={attachment:c('MercuryShareAttachmentReactShape'),location:m.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),rootClassName:m.string};f.exports=q}),null);