if (self.CavalryLogger) { CavalryLogger.start_js(["jihw6"]); }

__d('FBRTCCallUI',['regeneratorRuntime','FBRTCCallSummary','FBRTCCallSummaryStore','FBRTCConstants','FBRTCLogger','FBRTCMessageListener','FBRTCUrlManager','VideoCallTypedLogger','pageID'],(function a(b,c,d,e,f,g){var h={openGroupCallUI:function i(j,k,l,m,n,o,p){var q,r;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return c('regeneratorRuntime').awrap(c('FBRTCUrlManager').getGroupCallUri(j,k,l,m,c('FBRTCMessageListener').generateNewNonce(),p));case 2:q=t.sent;o.location=q;o.focus&&o.focus();r=new (c('FBRTCCallSummary'))({peerID:-1,callID:k,isCaller:true});r.onCallStarted(n);r.addExtraInfo(c('FBRTCLogger').Key.INITIATED_BY_PAGE_ID,c('pageID'));r.onCallEnded(c('FBRTCConstants').CallEndReason.CLIENT_ERROR,false,true,'PopupPending');r.save(c('FBRTCCallSummaryStore').getInstance());case 10:case 'end':return t.stop();}},null,this)},openGroupCallURI:function i(j){var k=j.conferenceName,l=j.callID,m=j.hasVideo,n=j.serverInfoData,o=j.trigger,p=j.callSummary,q=j.callWindow,r;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return c('regeneratorRuntime').awrap(c('FBRTCUrlManager').getGroupCallUri(k,l,[],m,c('FBRTCMessageListener').generateNewNonce(),n));case 2:r=t.sent;q.location=r;q.focus&&q.focus();p.onCallStarted(o);p.addExtraInfo(c('FBRTCLogger').Key.INITIATED_BY_PAGE_ID,c('pageID'));p.onCallEnded(c('FBRTCConstants').CallEndReason.CLIENT_ERROR,false,true,'PopupPending');p.save(c('FBRTCCallSummaryStore').getInstance());case 9:case 'end':return t.stop();}},null,this)},openAsCaller:function i(j,k,l,m,n){new (c('VideoCallTypedLogger'))().setEvent('open_as_caller').log();c('FBRTCLogger').getInstance().logCallAction(j,k,c('FBRTCLogger').CallAction.START_CALL,null,l);var o=new (c('FBRTCCallSummary'))({peerID:j,callID:k,isCaller:true});o.onCallStarted(l);this._open(j,k,true,o,false,m,n,l)},openAsCallee:function i(j,k,l,m,n,o){new (c('VideoCallTypedLogger'))().setEvent('open_as_callee').log();this._open(j,k,false,l,m,n,o)},_open:function i(j,k,l,m,n,o,p){var q=arguments.length<=7||arguments[7]===undefined?'':arguments[7];m.addExtraInfo(c('FBRTCLogger').Key.INITIATED_BY_PAGE_ID,c('pageID'));m.onCallEnded(c('FBRTCConstants').CallEndReason.CLIENT_ERROR,false,true,'PopupPending');m.save(c('FBRTCCallSummaryStore').getInstance());if(!p)return;n=c('FBRTCUrlManager').getNonceUri(j,k,l,o,c('FBRTCMessageListener').generateNewNonce(),q);new (c('VideoCallTypedLogger'))().setEvent('open_popup').log();if(!n){this._setUri(p,j,k,l,o)}else{c('FBRTCLogger').getInstance().logCallAction(j,k,c('FBRTCLogger').CallAction.OPEN_POPUP);p.location=n}p.focus&&p.focus()},_setUri:function i(j,k,l,m,n){c('FBRTCUrlManager').getCallUri(k,l,m,n,function(o){c('FBRTCLogger').getInstance().logCallAction(k,l,c('FBRTCLogger').CallAction.OPEN_POPUP);j.location=o},function(){c('FBRTCLogger').getInstance().logCallAction(k,l,c('FBRTCLogger').CallAction.FAILED_GETTING_URI)})}};f.exports=h}),null);
__d('FBRTCIncomingCallController',['fbt','Bootloader','Cache','DocumentTitle','FBRTCCallBlockingStore','FBRTCCallSummary','FBRTCCallSummaryStore','FBRTCCallUIWrapper','FBRTCConstants','FBRTCLocalMessageQueue','FBRTCLogger','FBRTCMessage','FBRTCMessageDedup','FBRTCMessageSender','FBRTCScreenSharingActions','FBRTCUtils','Map','MercuryIDs','MercuryParticipants','UserActivity','FBRTCSupport'],(function a(b,c,d,e,f,g,h){var i=30;function j(k,l,m){'use strict';this.$FBRTCIncomingCallController1=k;this.$FBRTCIncomingCallController2=l;this.$FBRTCIncomingCallController3=m;this.$FBRTCIncomingCallController4=null;this.$FBRTCIncomingCallController5=null;this.$FBRTCIncomingCallController6=new (c('FBRTCMessageSender'))();this.$FBRTCIncomingCallController7=new (c('FBRTCLocalMessageQueue'))();this.$FBRTCIncomingCallController8=c('FBRTCCallSummaryStore').getInstance();this.$FBRTCIncomingCallController9=c('FBRTCLogger').getInstance();this.$FBRTCIncomingCallController10=null;this.$FBRTCIncomingCallController11=new (c('Cache'))()}j.prototype.onMessageReceived=function(k){'use strict';var l;try{l=new (c('FBRTCMessage'))(k)}catch(m){this.$FBRTCIncomingCallController9.logErrorWithoutID('Unknown data: '+JSON.stringify(k));return}if(!c('FBRTCMessageDedup').check(l.peerID,l.callID,l.msgID)){if(l.isOffer()&&this.$FBRTCIncomingCallController12(l))this.$FBRTCIncomingCallController6.sendOfferAck(l.peerID,l.callID,l.msg);this.$FBRTCIncomingCallController9.logInfo(l.peerID,l.callID,'Ignoring message (duplicate): '+l.msgID);return}this.$FBRTCIncomingCallController9.logReceivedMessage(l.peerID,l.callID,l.msg);if(c('FBRTCSupport').isWebrtcSupported()&&l.msgType!==c('FBRTCConstants').PayloadType.OFFER)this.$FBRTCIncomingCallController7.enqueueMessage(l.peerID,l.callID,l.msgID,k);switch(l.msgType){case c('FBRTCConstants').PayloadType.OFFER:this.$FBRTCIncomingCallController13(l);break;case c('FBRTCConstants').PayloadType.HANGUP:this.$FBRTCIncomingCallController14(l);break;case c('FBRTCConstants').PayloadType.OTHER_DISMISS:this.$FBRTCIncomingCallController15(l);break;case c('FBRTCConstants').PayloadType.SDP_UPDATE:this.$FBRTCIncomingCallController16(l);break;case c('FBRTCConstants').PayloadType.OFFER_ACK:this.$FBRTCIncomingCallController17(l);break;case c('FBRTCConstants').PayloadType.ICE_CANDIDATE:case c('FBRTCConstants').PayloadType.ANSWER:case c('FBRTCConstants').PayloadType.MSG_ACK:case c('FBRTCConstants').PayloadType.OK:case c('FBRTCConstants').PayloadType.PING:case c('FBRTCConstants').PayloadType.PRANSWER:case c('FBRTCConstants').PayloadType.ICERESTART_OFFER:case c('FBRTCConstants').PayloadType.ICERESTART_ANSWER:case c('FBRTCConstants').PayloadType.PCRESTART_ANSWER:case c('FBRTCConstants').PayloadType.PCRESTART_OFFER:case c('FBRTCConstants').PayloadType.ANSWER_ACK:case c('FBRTCConstants').PayloadType.SET_VIDEO:case c('FBRTCConstants').PayloadType.OFFER_NACK:case c('FBRTCConstants').PayloadType.VIDEO_REQUEST:case c('FBRTCConstants').PayloadType.ACK:break;default:break;}};j.prototype.$FBRTCIncomingCallController13=function(k){'use strict';var l=k.callID,m,n=k.msg,o=k.peerID,p=n.attributes&&Object.prototype.hasOwnProperty.call(n.attributes,'isDirectScreenShareFromRecipient');if(this.$FBRTCIncomingCallController18(l))return;if(n.calltype){this.$FBRTCIncomingCallController6.sendOfferNack(o,l,n);return}if(this.$FBRTCIncomingCallController12(k)){var q=p?new (c('Map'))([['isDirectScreenShareFromRecipient',true]]):new (c('Map'))();this.$FBRTCIncomingCallController6.sendOfferAck(o,l,n,q)}else if(!c('FBRTCSupport').isWebrtcSupported()&&!p)this.$FBRTCIncomingCallController6.sendOfferNack(o,l,n);this.$FBRTCIncomingCallController9.logCallAction(o,l,c('FBRTCLogger').CallAction.RECEIVED_CALL);var r=this.$FBRTCIncomingCallController19(o,l,k);r.setUploadLogLevel(c('FBRTCUtils').getUploadLogLevel(c('FBRTCConstants').convertToUploadLogLevel(n.ull)));if(c('FBRTCCallBlockingStore').getBlockingStatus()){this.$FBRTCIncomingCallController20(o,l,r,c('FBRTCConstants').CallEndReason.IGNORE_CALL,false,false,false,'calling disabled');return}if(this.$FBRTCIncomingCallController4!==null&&!this.$FBRTCIncomingCallController4.isForPeer(o)){this.$FBRTCIncomingCallController20(o,l,r,c('FBRTCConstants').CallEndReason.IN_ANOTHER_CALL,false,false,true);this.$FBRTCIncomingCallController3.onCallMissed(o);return}if(!c('FBRTCSupport').isWebrtcSupported()){this.$FBRTCIncomingCallController20(o,l,r,c('FBRTCConstants').CallEndReason.UNSUPPORTED_VERSION,false,false,false);this.$FBRTCIncomingCallController2.showForIncomingCall(l,o);return}this.$FBRTCIncomingCallController4=new this.$FBRTCIncomingCallController1(o,l);this.$FBRTCIncomingCallController5=r;this.$FBRTCIncomingCallController4.addListener('answerCall',function(s){this.$FBRTCIncomingCallController21(o,l,k,r,s)}.bind(this));this.$FBRTCIncomingCallController4.addListener('ignoreCall',function(){this.$FBRTCIncomingCallController22(o,l,r)}.bind(this));this.$FBRTCIncomingCallController4.addListener('timeout',function(){this.$FBRTCIncomingCallController23(o,l,r,p,!p)}.bind(this));this.$FBRTCIncomingCallController3.hideDialog();if(p){m=c('FBRTCConstants').IncomingCallDialogTypes.SCREEN_SHARE}else m=n.videoon?c('FBRTCConstants').IncomingCallDialogTypes.VIDEO:c('FBRTCConstants').IncomingCallDialogTypes.AUDIO;this.$FBRTCIncomingCallController4.showIncomingDialog(m);this.$FBRTCIncomingCallController9.logEvent(o,l,'Incoming call dialog shown');this.$FBRTCIncomingCallController24(o)};j.prototype.$FBRTCIncomingCallController17=function(k){'use strict';var l=Object.prototype.hasOwnProperty.call(k.msg,'isDirectScreenShareFromRecipient');if(l||c('FBRTCUtils').isPeerVCEndpoint(k.peerID))c('FBRTCScreenSharingActions').offerAckReceived();};j.prototype.$FBRTCIncomingCallController24=function(k){'use strict';if(!document.hasFocus())this.$FBRTCIncomingCallController25(k);};j.prototype.$FBRTCIncomingCallController26=function(){'use strict';this.$FBRTCIncomingCallController27()};j.prototype.$FBRTCIncomingCallController25=function(k){'use strict';var l=c('MercuryIDs').getParticipantIDFromUserID(k);c('MercuryParticipants').get(l,function(m){if(!this.$FBRTCIncomingCallController4)return;this.$FBRTCIncomingCallController10=c('DocumentTitle').blink(h._("{name} \u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e17\u0e23",[h.param('name',m.short_name)]))}.bind(this));c('UserActivity').subscribeOnce(this.$FBRTCIncomingCallController27.bind(this))};j.prototype.$FBRTCIncomingCallController27=function(){'use strict';if(this.$FBRTCIncomingCallController10){this.$FBRTCIncomingCallController10.stop();this.$FBRTCIncomingCallController10=null}};j.prototype.$FBRTCIncomingCallController28=function(){'use strict';if(this.$FBRTCIncomingCallController4)this.$FBRTCIncomingCallController4.cancel();this.$FBRTCIncomingCallController4=null;this.$FBRTCIncomingCallController5=null;this.$FBRTCIncomingCallController26()};j.prototype.$FBRTCIncomingCallController14=function(k){'use strict';var l=k.peerID,m=k.callID,n=k.msg;this.$FBRTCIncomingCallController29(m);if(this.$FBRTCIncomingCallController4&&this.$FBRTCIncomingCallController4.isForPeerAndCall(l,m)){var o=n.reason;if(typeof o=='string'||o instanceof String)o=c('FBRTCConstants').endCallReasonFromString(o);this.$FBRTCIncomingCallController20(l,m,this.$FBRTCIncomingCallController5,o,true,true,false);this.$FBRTCIncomingCallController28();if(o!==c('FBRTCConstants').CallEndReason.OTHER_INSTANCE_HANDLED){this.$FBRTCIncomingCallController3.onCallMissed(l);this.$FBRTCIncomingCallController3.showDialog()}}if(this.$FBRTCIncomingCallController30)this.$FBRTCIncomingCallController30.onDirectScreenSharingEndSession();};j.prototype.$FBRTCIncomingCallController12=function(k){'use strict';return c('FBRTCSupport').isWebrtcSupported()};j.prototype.$FBRTCIncomingCallController15=function(k){'use strict';var l=k.callID;this.$FBRTCIncomingCallController29(l);if(!c('FBRTCSupport').isWebrtcSupported())this.$FBRTCIncomingCallController2.dismiss();if(this.$FBRTCIncomingCallController4&&this.$FBRTCIncomingCallController4.isForCall(l))this.$FBRTCIncomingCallController28();};j.prototype.$FBRTCIncomingCallController29=function(k){'use strict';this.$FBRTCIncomingCallController11.set(k,true,null,i)};j.prototype.$FBRTCIncomingCallController18=function(k){'use strict';return this.$FBRTCIncomingCallController11.has(k)};j.prototype.$FBRTCIncomingCallController19=function(k,l,m){'use strict';var n=new (c('FBRTCCallSummary'))({peerID:k,callID:l,isCaller:false});n.onFullMessageReceived(m);n.onOfferAckSent(m.msg);return n};j.prototype.$FBRTCIncomingCallController21=function(k,l,m,n,o){'use strict';if(m.msg.attributes&&Object.prototype.hasOwnProperty.call(m.msg.attributes,'isDirectScreenShareFromRecipient')){this.$FBRTCIncomingCallController31(k,l,m.msg.sdp)}else{var p=!m.msg.videoon;this.$FBRTCIncomingCallController9.logCallAction(k,l,c('FBRTCLogger').CallAction.ANSWER_CALL);this.$FBRTCIncomingCallController6.sendOtherDismiss(l);this.$FBRTCIncomingCallController7.enqueueOffer(k,m.originalMessageData);c('FBRTCCallUIWrapper').openAsCallee(k,l,n,o,p)}this.$FBRTCIncomingCallController28()};j.prototype.$FBRTCIncomingCallController31=function(k,l,m){'use strict';c('Bootloader').loadModules(["FBRTCScreenSharingController"],function(n){this.$FBRTCIncomingCallController30=new n(k,l,true);this.$FBRTCIncomingCallController30.initPromise.done(function(){this.$FBRTCIncomingCallController30.initializeAsReceiver(m,this.$FBRTCIncomingCallController7)}.bind(this))}.bind(this),'FBRTCIncomingCallController')};j.prototype.$FBRTCIncomingCallController22=function(k,l,m){'use strict';this.$FBRTCIncomingCallController20(k,l,m,c('FBRTCConstants').CallEndReason.IGNORE_CALL,false,true,true);this.$FBRTCIncomingCallController28()};j.prototype.$FBRTCIncomingCallController23=function(k,l,m,n,o){'use strict';this.$FBRTCIncomingCallController20(k,l,m,c('FBRTCConstants').CallEndReason.NO_ANSWER_TIMEOUT,false,false,n);this.$FBRTCIncomingCallController28();if(o){this.$FBRTCIncomingCallController3.onCallMissed(k);this.$FBRTCIncomingCallController3.showDialog()}};j.prototype.$FBRTCIncomingCallController20=function(k,l,m,n,o,p,q){var r=arguments.length<=7||arguments[7]===undefined?null:arguments[7];'use strict';if(q)this.$FBRTCIncomingCallController6.sendHangup(k,l,n);if(p)this.$FBRTCIncomingCallController6.sendOtherDismiss(l);m.onCallEnded(n,o,null,r);m.save(this.$FBRTCIncomingCallController8);var s=c('FBRTCConstants').fullCallEndReasonString(n,o);this.$FBRTCIncomingCallController9.logCallAction(k,l,c('FBRTCLogger').CallAction.END_CALL,s)};j.prototype.$FBRTCIncomingCallController16=function(k){'use strict';var l=k.msg,m=l.attributes&&Object.prototype.hasOwnProperty.call(l.attributes,'isDirectScreenShareFromRecipient');if(m&&this.$FBRTCIncomingCallController30)this.$FBRTCIncomingCallController30.onSdpUpdateReceived(l.sdp);};f.exports=j}),null);
__d('FBRTCSoundController',['RTCConfig','Sound'],(function a(b,c,d,e,f,g){var h=[c('RTCConfig').ringtone_mp3_url,c('RTCConfig').ringtone_ogg_url],i={playIncomingRingtone:function j(k,l,m){var n=['incoming_ringtone',k.toString(),l.toString()].join('_');c('Sound').play(h,n,m)},stopIncomingRingtone:function j(){c('Sound').stop(h)}};f.exports=i}),null);
__d("XIncomingCallDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videocall\/incoming\/",{user_id:{type:"FBID",required:true},call_id:{type:"Int"},dialog_type:{type:"String",defaultValue:"VIDEO"},__asyncDialog:{type:"Int"}})}),null);
__d('FBRTCIncomingCallDialog',['AsyncDialog','AsyncRequest','Dialog','FBRTCSoundController','setTimeoutAcrossTransitions','VideoCallTypedLogger','XIncomingCallDialogController','mixInEventEmitter'],(function a(b,c,d,e,f,g){var h=70000;function i(j,k){'use strict';this.peerID=j;this.callID=k;this.$FBRTCIncomingCallDialog1=null}i.prototype.showIncomingDialog=function(j){'use strict';var k=c('Dialog').getCurrent();if(k)k.hide();var l=c('XIncomingCallDialogController').getURIBuilder().setFBID('user_id',this.peerID).setInt('call_id',this.callID).setString('dialog_type',j).getURI();this.$FBRTCIncomingCallDialog1=new (c('AsyncRequest'))(l);c('AsyncDialog').send(this.$FBRTCIncomingCallDialog1,this.$FBRTCIncomingCallDialog2.bind(this))};i.prototype.$FBRTCIncomingCallDialog2=function(j){'use strict';if(!this.$FBRTCIncomingCallDialog1){setTimeout(function(){j.hide()},1);return}this.$FBRTCIncomingCallDialog1=null;this.view=j;j.subscribe('confirm',this.$FBRTCIncomingCallDialog3.bind(this));j.subscribe('cancel',this.$FBRTCIncomingCallDialog4.bind(this));c('FBRTCSoundController').playIncomingRingtone(this.callID,this.peerID,true);this.timeout=c('setTimeoutAcrossTransitions')(this.$FBRTCIncomingCallDialog5.bind(this),h)};i.prototype.cancel=function(){'use strict';if(this.$FBRTCIncomingCallDialog1){this.$FBRTCIncomingCallDialog1.abort();this.$FBRTCIncomingCallDialog1=null}if(this.timeout)clearTimeout(this.timeout);if(this.view){this.view.hide();this.view=null}c('FBRTCSoundController').stopIncomingRingtone()};i.prototype.isForPeer=function(j){'use strict';return this.peerID===j};i.prototype.isForCall=function(j){'use strict';return this.callID===j};i.prototype.isForPeerAndCall=function(j,k){'use strict';return this.peerID===j&&this.callID===k};i.prototype.$FBRTCIncomingCallDialog3=function(j,k){'use strict';this.cancel();new (c('VideoCallTypedLogger'))().setEvent('accept_call_click').log();this.emit('answerCall',k.value)};i.prototype.$FBRTCIncomingCallDialog4=function(){'use strict';this.cancel();this.emit('ignoreCall')};i.prototype.$FBRTCIncomingCallDialog5=function(){'use strict';this.cancel();this.emit('timeout')};c('mixInEventEmitter')(i,{answerCall:true,ignoreCall:true,timeout:true});f.exports=i}),null);
__d("XVideoCallMissedCallController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videocall\/missed_call\/",{user_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}})}),null);
__d("XVideoCallMissedCallDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videocall\/dismiss_all_missed_call_dialog\/",{})}),null);
__d('FBRTCMissedVideoCallHandler',['Arbiter','AsyncDialog','AsyncRequest','ChannelConstants','FBRTCCore','FBRTCLogger','FBRTCSupport','XVideoCallMissedCallController','XVideoCallMissedCallDialogController'],(function a(b,c,d,e,f,g){var h=null,i=null,j=null;k.prototype.hideDialog=function(){'use strict';if(h){h.hide();h=null;i=null;if(j){j.unsubscribe();j=null}}};function k(){'use strict';this.$FBRTCMissedVideoCallHandler1=null}k.prototype.onCallMissed=function(l){'use strict';if(!c('FBRTCSupport').isWebrtcSupported())return;if(i===null)this.$FBRTCMissedVideoCallHandler1=l;};k.prototype.showDialog=function(){'use strict';if(!this.$FBRTCMissedVideoCallHandler1||i)return;i=this.$FBRTCMissedVideoCallHandler1;this.$FBRTCMissedVideoCallHandler1=null;var l=c('XVideoCallMissedCallController').getURIBuilder().setInt('user_id',i).getURI(),m=new (c('AsyncRequest'))(l);c('AsyncDialog').send(m,this.$FBRTCMissedVideoCallHandler2.bind(this))};k.prototype.$FBRTCMissedVideoCallHandler2=function(l){'use strict';h=l;l.subscribe('confirm',this.$FBRTCMissedVideoCallHandler3.bind(this));l.subscribe('cancel',this.$FBRTCMissedVideoCallHandler4.bind(this));j=c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('dismiss_all_missed_call_dialog'),this.$FBRTCMissedVideoCallHandler5.bind(this))};k.prototype.$FBRTCMissedVideoCallHandler3=function(){'use strict';c('FBRTCCore').startOutgoingCall(i,c('FBRTCLogger').Trigger.RETURN_CALL,false);this.$FBRTCMissedVideoCallHandler4()};k.prototype.$FBRTCMissedVideoCallHandler4=function(){'use strict';this.hideDialog();this.$FBRTCMissedVideoCallHandler6()};k.prototype.$FBRTCMissedVideoCallHandler6=function(){'use strict';new (c('AsyncRequest'))(c('XVideoCallMissedCallDialogController').getURIBuilder().getURI()).send()};k.prototype.$FBRTCMissedVideoCallHandler5=function(){'use strict';this.hideDialog()};f.exports=k}),null);
__d("XBrowserNotSupportedDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videocall\/browser_not_supported\/",{user_id:{type:"Int"},warning:{type:"Bool",defaultValue:false},call_type:{type:"Enum",defaultValue:2,enumType:0},__asyncDialog:{type:"Int"}})}),null);
__d('FBRTCUnsupportedBrowserMessage',['AsyncDialog','AsyncRequest','FBRTCCallConstants','XBrowserNotSupportedDialogController','FBRTCSoundController'],(function a(b,c,d,e,f,g){var h=c('FBRTCCallConstants').FBRTCCallType,i={_dialog:null,warnForOutgoingCall:function j(k){var l=c('XBrowserNotSupportedDialogController').getURIBuilder().setBool('warning',true).getURI();this._presentDialog(l,k)},showForOutgoingCall:function j(){var k=c('XBrowserNotSupportedDialogController').getURIBuilder().getURI();this._presentDialog(k)},showForIncomingCall:function j(k,l){c('FBRTCSoundController').playIncomingRingtone(k,l,false);var m=c('XBrowserNotSupportedDialogController').getURIBuilder().setInt('user_id',l).getURI();this._presentDialog(m)},showForUnsupportedCollabCall:function j(){var k=c('XBrowserNotSupportedDialogController').getURIBuilder().setEnum('call_type',h.COLLAB_VIDEO_CALL).getURI();this._presentDialog(k)},showForUnsupportedCollabScreenSharing:function j(){var k=c('XBrowserNotSupportedDialogController').getURIBuilder().setEnum('call_type',h.COLLAB_SCREEN_SHARE_CALL).getURI();this._presentDialog(k)},dismiss:function j(){if(this._dialog)this._dialog.hide();},_presentDialog:function j(k,l){if(this._dialog)return;var m=new (c('AsyncRequest'))(k);c('AsyncDialog').send(m,function(n){this._dialog=n;n.subscribe('hide',function(){this._dialog=null;if(l)l();}.bind(this))}.bind(this))}};f.exports=i}),null);